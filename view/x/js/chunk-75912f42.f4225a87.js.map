{"version":3,"sources":["webpack:///./src/x-vue/components/UploadButton.vue?2e78","webpack:///./src/x-vue/components/UploadButton.vue","webpack:///./src/x-vue/components/UploadButton.vue?25d3","webpack:///./src/x-vue/components/UploadButton.vue?04af","webpack:///./src/views/forum/PostEdit.vue?929a","webpack:///./src/x-vue/components/forum/PostEdit.vue?dbac","webpack:///./src/x-vue/components/forum/PostEdit.vue","webpack:///./src/x-vue/components/forum/PostEdit.vue?0d01","webpack:///./src/x-vue/components/forum/PostEdit.vue?eb01","webpack:///./src/views/forum/PostEdit.vue","webpack:///./src/views/forum/PostEdit.vue?ef96","webpack:///./src/views/forum/PostEdit.vue?5190","webpack:///./src/x-vue/components/user/LoginFirst.vue?b959","webpack:///./src/x-vue/components/user/LoginFirst.vue","webpack:///./src/x-vue/components/user/LoginFirst.vue?7d39","webpack:///./src/x-vue/components/user/LoginFirst.vue?e828","webpack:///./src/x-vue/components/forum/FileDisplay.vue?a170","webpack:///./src/x-vue/components/svg/TrashSvg.vue?1a88","webpack:///./src/x-vue/components/svg/TrashSvg.vue","webpack:///./src/x-vue/components/forum/FileDisplay.vue","webpack:///./src/x-vue/components/forum/FileDisplay.vue?6fb3","webpack:///./src/x-vue/components/forum/FileDisplay.vue?317d","webpack:///./src/x-vue/components/svg/CameraSvg.vue?4db4","webpack:///./src/x-vue/components/svg/CameraSvg.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","style","width","defaultSize","height","attrs","on","onFileChange","staticRenderFns","api","instance","mounted","size","event","Promise","_user","loggedIn","error","target","files","length","file","fileUpload","onProgress","res","$emit","progress","UploadButton","props","components","CameraSvg","component","onEdited","form","_v","_s","_f","categoryId","_e","$event","preventDefault","onSubmit","apply","arguments","directives","name","rawName","value","expression","domProps","composing","$set","onFileUploaded","uploadProgress","submitted","onFileDeleted","loading","loadPost","postGet","idx","idxOrCategory","$route","params","isNaN","parseInt","query","sc","subcategory","console","log","postEdit","toJson","link","path","location","search","open","fileIdxes","push","PostEdit","LoginFirst","FileDisplay","refreshProfile","PostEditView","_l","key","staticStyle","onClickDelete","url","script","confirm","conf","fileDelete","index","findIndex","splice","TrashSvg"],"mappings":"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","file":"js/chunk-75912f42.f4225a87.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"pr-2 position-relative overflow-hidden pointer\"},[_c('camera-svg',{staticClass:\"pointer\",style:({ width: (_vm.defaultSize + \"px\"), height: (_vm.defaultSize + \"px\") })}),_c('input',{staticClass:\"h-100 top right position-absolute fs-lg opacity-0 pointer\",attrs:{\"type\":\"file\"},on:{\"change\":_vm.onFileChange}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n// import { XHelper } from \"@/x-vue-helper/x-helper\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { ApiService } from \"../services/api.service\";\nimport ComponentService from \"../services/component.service\";\nimport CameraSvg from \"./svg/CameraSvg.vue\";\n\ninterface HTMLInputEvent extends Event {\n  target: HTMLInputElement & EventTarget;\n}\n\n@Component({\n  props: [\"size\"],\n  components: { CameraSvg },\n})\nexport default class UploadButton extends Vue {\n  size!: number;\n\n  /**\n   * Icon default size\n   */\n  defaultSize = 35;\n\n  api = ApiService.instance;\n\n  mounted(): void {\n    if (this.size) this.defaultSize = this.size;\n  }\n\n  async onFileChange(event: HTMLInputEvent): Promise<void> {\n    if (!this.api._user.loggedIn) {\n      ComponentService.instance.error(\"error_login_first\");\n      return;\n    }\n\n    if (event.target.files === null || event.target?.files?.length === 0) {\n      // console.log(\"User cancelled upload\");\n      return;\n    }\n    const file = event.target.files[0];\n\n    try {\n      const res = await this.api.fileUpload(file, {}, this.onProgress);\n      this.$emit(\"success\", res);\n    } catch (e) {\n      // XHelper.instance.error(e);\n      ComponentService.instance.error(e);\n    }\n  }\n\n  onProgress(progress: number): void {\n    // console.log(progress);\n    this.$emit(\"progress\", progress);\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadButton.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadButton.vue?vue&type=template&id=3c2fc321&\"\nimport script from \"./UploadButton.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadButton.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"post-edit-page\"},[_c('PostEdit',{on:{\"edited\":_vm.onEdited}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"post\"},[(_vm.api._user.loggedIn)?_c('div',[(_vm.form.categoryId)?_c('div',[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"category\"))+\" \"),_c('span',{staticClass:\"text-uppercase\"},[_vm._v(\" \"+_vm._s(_vm.form.categoryId)+\" \")])]):_vm._e(),_c('form',{staticClass:\"mt-3\",on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"title\"))+\" \"),_c('div',{staticClass:\"form-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.title),expression:\"form.title\"}],staticClass:\"w-100 form-control\",attrs:{\"type\":\"text\",\"name\":\"title\"},domProps:{\"value\":(_vm.form.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"title\", $event.target.value)}}})]),_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"content\"))+\" \"),_c('div',{staticClass:\"form-group\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.form.content),expression:\"form.content\"}],staticClass:\"w-100 form-control\",attrs:{\"type\":\"text\",\"name\":\"content\"},domProps:{\"value\":(_vm.form.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.form, \"content\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex align-center\"},[_c('upload-button',{on:{\"success\":_vm.onFileUploaded,\"progress\":function($event){_vm.uploadProgress = $event}}}),_c('span',{staticClass:\"flex-grow-1 mt-2 mr-2\"},[(_vm.uploadProgress)?_c('b-progress',{staticClass:\"mb-3\",attrs:{\"value\":_vm.uploadProgress,\"max\":\"100\"}}):_vm._e()],1),(!_vm.submitted)?_c('button',{staticClass:\"btn btn-success\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"submit\"))+\" \")]):_vm._e(),(_vm.submitted)?_c('b-spinner',{staticClass:\"mx-2\",attrs:{\"type\":\"grow\",\"variant\":\"success\"}}):_vm._e()],1),_c('file-display',{attrs:{\"files\":_vm.form.files,\"showDelete\":true},on:{\"file-deleted\":_vm.onFileDeleted}})],1)]):_vm._e(),(!_vm.loading)?_c('login-first'):_vm._e(),(_vm.loading)?_c('div',{staticClass:\"p-3 text-center rounded\"},[_c('b-spinner',{staticClass:\"mx-2\",attrs:{\"small\":\"\",\"type\":\"grow\",\"variant\":\"info\"}}),_vm._v(\" Please wait while loading the post ... \")],1):_vm._e()],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport { ApiService } from \"@/x-vue/services/api.service\";\nimport { FileModel } from \"@/x-vue/interfaces/interfaces\";\nimport { addByComma, deleteByComma } from \"@/x-vue/services/functions\";\n\nimport ComponentService from \"@/x-vue/services/component.service\";\nimport UploadButton from \"@/x-vue/components/UploadButton.vue\";\nimport LoginFirst from \"@/x-vue/components/user/LoginFirst.vue\";\nimport FileDisplay from \"@/x-vue/components/forum/FileDisplay.vue\";\nimport { PostModel } from \"@/x-vue/interfaces/forum.interface\";\n\n@Component({\n  components: {\n    LoginFirst,\n    UploadButton,\n    FileDisplay,\n  },\n})\nexport default class PostEdit extends Vue {\n  form: PostModel = new PostModel();\n  api = ApiService.instance;\n\n  loading = false;\n  submitted = false;\n  uploadProgress = 0;\n\n  async loadPost(): Promise<void> {\n    this.loading = true;\n    try {\n      this.form = await this.api.postGet({ idx: this.form.idx });\n      this.loading = false;\n    } catch (e) {\n      ComponentService.instance.error(e);\n      this.loading = false;\n    }\n    // console.log(\"Update form: \", this.form);\n  }\n\n  mounted(): void {\n    const idxOrCategory = this.$route.params.idxOrCategory;\n    if (isNaN(parseInt(idxOrCategory))) {\n      this.form.categoryId = idxOrCategory;\n\n      // add subcategory if it exist on route.query\n      if (this.$route.query.sc) {\n        this.form.subcategory = this.$route.query.sc as string;\n      }\n\n      console.log(this.form);\n    } else {\n      this.form.idx = parseInt(idxOrCategory);\n      this.loadPost();\n    }\n  }\n\n  async onSubmit(): Promise<void> {\n    this.submitted = true;\n    try {\n      const res = await this.api.postEdit(this.form.toJson);\n      let link = `/${res.path}` + location.search;\n      ComponentService.instance.open(link);\n      this.submitted = false;\n      this.$emit(\"edited\");\n    } catch (e) {\n      ComponentService.instance.error(e);\n      this.submitted = false;\n    }\n  }\n\n  onFileUploaded(file: FileModel): void {\n    this.form.fileIdxes = addByComma(this.form.fileIdxes, file.idx);\n    // console.log(\"form file idxes\", this.form);\n    this.form.files.push(file);\n    this.uploadProgress = 0;\n  }\n\n  onFileDeleted(idx: string): void {\n    this.form.fileIdxes = deleteByComma(this.form.fileIdxes, idx);\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PostEdit.vue?vue&type=template&id=7de1c228&\"\nimport script from \"./PostEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./PostEdit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\nimport PostEdit from \"@/x-vue/components/forum/PostEdit.vue\";\nimport { AppService } from \"@/service/app.service\";\n\n@Component({\n  components: {\n    PostEdit,\n  },\n})\nexport default class PostEditView extends Vue {\n  onEdited(): void {\n    AppService.instance.refreshProfile();\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostEdit.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./PostEdit.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./PostEdit.vue?vue&type=template&id=d2c593f0&\"\nimport script from \"./PostEdit.vue?vue&type=script&lang=ts&\"\nexport * from \"./PostEdit.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.api._user.notLoggedIn)?_c('div',{staticClass:\"p-2 text-center rounded bg-secondary\"},[_c('h3',[_vm._v(\"Login First\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { ApiService } from \"../../services/api.service\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component({})\nexport default class LoginFirst extends Vue {\n  api = ApiService.instance;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginFirst.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginFirst.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginFirst.vue?vue&type=template&id=09e730eb&\"\nimport script from \"./LoginFirst.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginFirst.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"file-display grid\"},[_c('div',{staticClass:\"row\"},_vm._l((_vm.files),function(file){return _c('div',{key:file.idx,staticClass:\"position-relative p-1 col-3\",staticStyle:{\"height\":\"150px\"}},[(_vm.showDelete)?_c('div',{staticClass:\"icon-lg position-absolute m-2 bg-light circle-center pointer\",on:{\"click\":function($event){return _vm.onClickDelete(file.idx)}}},[_c('trash-svg')],1):_vm._e(),_c('img',{staticClass:\"w-100 h-100\",attrs:{\"src\":file.url,\"alt\":file.name}})])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\"}},[_c('path',{attrs:{\"d\":\"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./TrashSvg.vue?vue&type=template&id=515dbf36&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport { FileModel } from \"@/x-vue/interfaces/interfaces\";\nimport { ApiService } from \"@/x-vue/services/api.service\";\nimport Service from \"@/x-vue/services/component.service\";\nimport TrashSvg from \"@/x-vue/components/svg/TrashSvg.vue\";\n\n@Component({\n  props: [\"files\", \"showDelete\"],\n  components: { TrashSvg },\n})\nexport default class FileDisplay extends Vue {\n  files!: Array<FileModel>;\n  showDelete!: boolean;\n\n  api = ApiService.instance;\n\n  async onClickDelete(idx: number): Promise<void> {\n    const conf = await Service.instance.confirm(\"Title\", \"Are you sure you want to delete this file?\");\n    if (!conf) return;\n\n    try {\n      await this.api.fileDelete(idx);\n      const index = this.files.findIndex((file) => file.idx == idx);\n      this.files.splice(index, 1);\n      this.$emit(\"file-deleted\", idx);\n    } catch (e) {\n      Service.instance.error(e);\n    }\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDisplay.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./FileDisplay.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./FileDisplay.vue?vue&type=template&id=5e903321&\"\nimport script from \"./FileDisplay.vue?vue&type=script&lang=ts&\"\nexport * from \"./FileDisplay.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"d\":\"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CameraSvg.vue?vue&type=template&id=75d63564&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}