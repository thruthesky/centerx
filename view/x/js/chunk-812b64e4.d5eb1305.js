(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-812b64e4"],{"0ca9":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center my-2",class:["text-"+t.variant]},[s("b-spinner",{staticClass:"align-middle mr-2"}),s("strong",[t._v(t._s("loading..."))])],1)},n=[],i=s("9ab4"),a=s("1b40"),o=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),Object(i["b"])([Object(a["b"])({default:"success"})],e.prototype,"variant",void 0),e=Object(i["b"])([Object(a["a"])({})],e),e}(a["c"]),l=o,c=l,u=s("2877"),f=Object(u["a"])(c,r,n,!1,null,null,null);e["a"]=f.exports},2690:function(t,e,s){},"2a99":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[t.id?s("div",{staticClass:"pointer",attrs:{tabindex:"0",id:t.id}},[t._v(" "+t._s(t.parent.user.displayName)+" ")]):t._e(),t.parent&&t.parent.idx?s("b-popover",{ref:"popover",attrs:{placement:"bottomright",target:t.id,triggers:"click blur"}},[s("user-menu",{attrs:{user:t.parent.user}})],1):t._e()],1)},n=[],i=s("9ab4"),a=s("2b0e"),o=s("2fe1"),l=s("f873"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e}return Object(i["c"])(e,t),e.prototype.mounted=function(){this.id="displayname-popover-"+this.parent.idx},e=Object(i["b"])([Object(o["b"])({props:["parent"],components:{UserMenu:l["a"]}})],e),e}(a["default"]),u=c,f=u,b=s("2877"),p=Object(b["a"])(f,r,n,!1,null,null,null);e["a"]=p.exports},"82da":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("b-avatar",{staticClass:"pointer",attrs:{tabindex:"0",id:t.id,src:t.parent.user.src||t.parent.user.photoUrl,size:t.defaultSize+"em"}}),t.parent&&t.parent.idx&&t.id?s("b-popover",{ref:"popover",attrs:{placement:"bottomright",target:t.id,triggers:"click blur"}},[s("user-menu",{attrs:{user:t.parent.user}})],1):t._e()],1)},n=[],i=s("9ab4"),a=s("2b0e"),o=s("2fe1"),l=s("f873"),c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultSize=3,e.src="",e.id="",e}return Object(i["c"])(e,t),e.prototype.mounted=function(){this.size&&(this.defaultSize=this.size),this.id="user-avatar-popover-"+this.parent.idx},e=Object(i["b"])([Object(o["b"])({props:["parent","size"],components:{UserMenu:l["a"]}})],e),e}(a["default"]),u=c,f=u,b=s("2877"),p=Object(b["a"])(f,r,n,!1,null,null,null);e["a"]=p.exports},"938c":function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h4",[t._v("Post list")]),s("form",{staticClass:"mb-2",on:{submit:function(e){return e.preventDefault(),t.search.apply(null,arguments)}}},[s("div",{staticClass:"d-flex"},[s("b-form-group",{staticClass:"mb-0",attrs:{"label-size":"sm",label:"userIdx","label-for":"userIdx"}},[s("b-form-input",{attrs:{size:"sm",id:"userIdx",placeholder:"userIdx"},model:{value:t.forum.userIdx,callback:function(e){t.$set(t.forum,"userIdx",e)},expression:"forum.userIdx"}})],1),s("b-form-group",{staticClass:"mb-0",attrs:{"label-size":"sm",label:"categoryId","label-for":"categoryId"}},[s("b-form-input",{attrs:{size:"sm",id:"categoryId",placeholder:"categoryId"},model:{value:t.forum.categoryId,callback:function(e){t.$set(t.forum,"categoryId",e)},expression:"forum.categoryId"}})],1),s("b-form-group",{staticClass:"mb-0",attrs:{"label-size":"sm",label:"limit","label-for":"limit"}},[s("b-form-input",{attrs:{size:"sm",id:"limit",placeholder:"limit"},model:{value:t.forum.limit,callback:function(e){t.$set(t.forum,"limit",e)},expression:"forum.limit"}})],1)],1),s("button",{staticClass:"btn btn-primary mt-2"},[t._v("Search")])]),s("div",{staticClass:"mb-2"},t._l(t.fields,(function(e){return s("b-checkbox",{key:e.key,attrs:{disabled:1==t.visibleFields.length&&e.visible,inline:""},model:{value:e.visible,callback:function(s){t.$set(e,"visible",s)},expression:"field.visible"}},[t._v(" "+t._s(t._f("t")(e.label||e.key))+" ")])})),1),s("div",{staticClass:"overflow-auto"},[s("b-table",{attrs:{small:"",striped:"",hover:"",items:t.forum.posts,fields:t.visibleFields,busy:t.forum.loading,bordered:!0,responsive:"true"},scopedSlots:t._u([{key:"row-details",fn:function(t){return[s("b-card",[s("div",{staticClass:"mt-2 d-flex"},[s("UserAvatar",{attrs:{parent:t.item}}),s("div",{staticClass:"ml-2"},[s("UserDisplayName",{staticClass:"font-weight-bold",attrs:{parent:t.item}}),s("PostMeta",{attrs:{"data-cy":"post-view-meta",post:t.item}})],1)],1),s("Content",{staticClass:"mt-2",attrs:{parent:t.item}}),s("FileList",{staticClass:"mt-2",attrs:{post:t.item}})],1)]}},{key:"cell(user)",fn:function(e){return[s("div",{staticClass:"d-flex"},[s("UserAvatar",{attrs:{parent:e.item}}),s("router-link",{attrs:{to:"/admin/user/edit/"+e.item.user.idx}},[s("div",[t._v(t._s(e.item.user.name))]),s("div",[t._v("idx: "+t._s(e.item.user.idx))])])],1)]}},{key:"cell(idx)",fn:function(e){return[s("router-link",{attrs:{to:e.item.relativeUrl}},[t._v(t._s(e.item.idx))])]}},{key:"cell(title)",fn:function(e){return[t._v(" "+t._s(e.item.title.substring(0,32))+" "),s("span",{staticClass:"align-middle"},[t._v(t._s(e.item.fileIdxes?"(ðŸ“·)":""))])]}},{key:"cell(content)",fn:function(e){return[t._v(" "+t._s(e.item.content.substring(0,64))+" ")]}},{key:"cell(categoryId)",fn:function(e){return[s("router-link",{attrs:{to:"/forum/"+e.item.categoryId}},[t._v(t._s(e.item.categoryId))])]}},{key:"cell(shortDate)",fn:function(e){return[s("div",{staticClass:"text-nowrap"},[t._v(t._s(e.item.shortDate))])]}},{key:"table-busy",fn:function(){return[s("Loading")]},proxy:!0},{key:"cell(action)",fn:function(e){return[s("button",{staticClass:"btn btn-sm btn-secondary",on:{click:e.toggleDetails}},[t._v("preview")])]}}])}),this.forum.posts.length?s("div",{staticClass:"d-flex mt-3 justify-content-center w-100"},[s("div",{staticClass:"overflow-auto"},[s("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.noOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]):t._e()],1)])},n=[],i=(s("4de4"),s("d3b7"),s("a15b"),s("ac1f"),s("841c"),s("9ab4")),a=s("3fdf"),o=s("9f3a"),l=s("190e"),c=s("2b0e"),u=s("2fe1"),f=s("2a99"),b=s("82da"),p=s("93f2"),d=s("f273"),m=s("fae8"),v=s("20d6"),h=s("0ca9"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.forum=new a["c"],e.total=0,e.noOfPages=10,e.currentPage="1",e.categoryId="",e.subCategory="",e.fields=[{key:"user",visible:!0},{key:"idx",visible:!0},{key:"title",visible:!0},{key:"content",visible:!0},{key:"categoryId",label:"Category",sortable:!0,visible:!0},{key:"shortDate",label:"Date",visible:!0},{key:"action",visible:!0}],e}return Object(i["c"])(e,t),Object.defineProperty(e.prototype,"visibleFields",{get:function(){return this.fields.filter((function(t){return t.visible}))},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){this.forum.limit=5,this.initPostCount(),this.loadPosts()},e.prototype.initPostCount=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e;return Object(i["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=this,[4,o["a"].instance.postCount(this.forum.searchOptions)];case 1:return t.total=s.sent(),this.noOfPages=Math.ceil(this.total/this.forum.limit),[3,3];case 2:return e=s.sent(),e==v["b"].category_not_exists?console.log("@ignore category not exists error on counting no of posts."):l["b"].instance.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.linkGen=function(t){var e=[];return t>1&&e.push("page="+t),this.categoryId&&e.push("c="+this.categoryId),this.subCategory&&e.push("sc="+this.subCategory),e.length?"?"+e.join("&"):"/admin/post"},e.prototype.onPageChanged=function(t){this.forum.page=t,this.loadPosts()},e.prototype.search=function(){return Object(i["a"])(this,void 0,Promise,(function(){return Object(i["d"])(this,(function(t){return this.forum.page=1,this.currentPage="1",this.initPostCount(),this.loadPosts(),[2]}))}))},e.prototype.loadPosts=function(){return Object(i["a"])(this,void 0,Promise,(function(){var t,e;return Object(i["d"])(this,(function(s){switch(s.label){case 0:if(this.forum.canLoad)return[2];this.forum.loading=!0,console.log(this.forum.searchOptions),s.label=1;case 1:return s.trys.push([1,3,,4]),t=this.forum,[4,o["a"].instance.postSearch(this.forum.searchOptions)];case 2:return t.posts=s.sent(),console.log(this.forum.posts),[3,4];case 3:return e=s.sent(),l["b"].instance.error(e),[3,4];case 4:return this.forum.endLoad(),[2]}}))}))},e=Object(i["b"])([Object(u["b"])({components:{UserDisplayName:f["a"],UserAvatar:b["a"],FileList:p["a"],Content:d["a"],PostMeta:m["a"],Loading:h["a"]}})],e),e}(c["default"]),g=_,y=g,x=s("2877"),O=Object(x["a"])(y,r,n,!1,null,null,null);e["default"]=O.exports},"93f2":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",t._l(t.post.files,(function(t){return s("div",{key:t.idx},[s("img",{staticClass:"mw-100",attrs:{src:t.url}})])})),0)},n=[],i=s("9ab4"),a=s("3fdf"),o=s("2b0e"),l=s("1b40"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),Object(i["b"])([Object(l["b"])({default:function(){return new a["d"]}})],e.prototype,"post",void 0),e=Object(i["b"])([Object(l["a"])({})],e),e}(o["default"]),u=c,f=u,b=s("2877"),p=Object(b["a"])(f,r,n,!1,null,null,null);e["a"]=p.exports},"9b55":function(t,e,s){"use strict";s("2690")},f273:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.parent.content?s("div",{staticClass:"content"},[t._v(t._s(t.parent.content))]):t._e()},n=[],i=s("9ab4"),a=s("2b0e"),o=s("2fe1"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),e=Object(i["b"])([Object(o["b"])({props:["parent"]})],e),e}(a["default"]),c=l,u=c,f=(s("9b55"),s("2877")),b=Object(f["a"])(u,r,n,!1,null,"0d53883e",null);e["a"]=b.exports},f873:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-menu"},[s("router-link",{staticClass:"btn d-block text-left",attrs:{to:"/profile/"+t.user.idx}},[t._v(t._s(t._f("t")("see_profile")))]),s("router-link",{staticClass:"btn d-block text-left",attrs:{to:"/user/posts/"+t.user.idx}},[t._v(t._s(t._f("t")("see_posts")))]),s("router-link",{staticClass:"btn d-block text-left",attrs:{to:"/user/comments/"+t.user.idx}},[t._v(t._s(t._f("t")("see_comments")))]),s("router-link",{staticClass:"btn d-block text-left",attrs:{to:"/message/"+t.user.idx}},[t._v(t._s(t._f("t")("send_message")))])],1)},n=[],i=s("9ab4"),a=s("2b0e"),o=s("2fe1"),l=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),e=Object(i["b"])([Object(o["b"])({props:["user"]})],e),e}(a["default"]),c=l,u=c,f=s("2877"),b=Object(f["a"])(u,r,n,!1,null,null,null);e["a"]=b.exports},fae8:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-meta text-truncate"},[t.showName?s("user-displayname",{staticClass:"mr-2 font-weight-bold",attrs:{parent:t.post}}):t._e(),t.showName?t._e():s("span",{staticClass:"mr-2"},[t._v("No. "+t._s(t.post.idx))]),t.post.shortDate?s("span",{staticClass:"text-muted"},[t._v(" "+t._s(t.post.shortDate)+" ")]):t._e(),t.post.noOfViews?s("span",{staticClass:"text-muted mr-2"},[t._v(" Views "+t._s(t.post.noOfViews)+" ")]):t._e()],1)},n=[],i=s("9ab4"),a=s("2b0e"),o=s("2fe1"),l=s("2a99"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(i["c"])(e,t),e=Object(i["b"])([Object(o["b"])({props:["post","showName"],components:{UserDisplayname:l["a"]}})],e),e}(a["default"]),u=c,f=u,b=s("2877"),p=Object(b["a"])(f,r,n,!1,null,null,null);e["a"]=p.exports}}]);
//# sourceMappingURL=chunk-812b64e4.d5eb1305.js.map