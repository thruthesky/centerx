{"version":3,"sources":["webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?06a1","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?5815","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?75bb"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","_f","staticClass","directives","name","rawName","value","options","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","o","selected","map","val","_value","$set","multiple","notify","domProps","composing","_e","loadPostIdx","sendPushNotification","loading","staticRenderFns","idx","topic","tokens","emails","users","title","body","click_action","imageUrl","sound","channel","mounted","$route","params","postIdx","Promise","console","log","instance","postGet","post","content","url","files","length","error","data","type","res","sendMessageToTopic","sendMessageToTokens","sendMessageToUsers","s","success","f","alert","AdminPushNotification","component"],"mappings":"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","file":"js/chunk-2d0e2175.765cbf4b.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"data-cy\":\"push-notification-create-page\"}},[_c('h4',[_vm._v(_vm._s(_vm._f(\"t\")(\"push_notification\")))]),_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"status\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"sending_option\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.notify),expression:\"options.notify\"}],staticClass:\"custom-select\",attrs:{\"id\":\"notify\",\"name\":\"notify\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.options, \"notify\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"all\")))]),_c('option',{attrs:{\"value\":\"topic\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"topic\")))]),_c('option',{attrs:{\"value\":\"tokens\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"tokens\")))]),_c('option',{attrs:{\"value\":\"emails\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"emails\")))])])]),(_vm.options.notify == 'topic')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"topic\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"topic\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.topic),expression:\"options.topic\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('topic'),\"name\":\"topic\",\"id\":\"topic\"},domProps:{\"value\":(_vm.options.topic)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"topic\", $event.target.value)}}})]):_vm._e(),(_vm.options.notify == 'tokens')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"tokens\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"tokens\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.tokens),expression:\"options.tokens\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('token'),\"name\":\"tokens\",\"id\":\"tokens\"},domProps:{\"value\":(_vm.options.tokens)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"tokens\", $event.target.value)}}})]):_vm._e(),(_vm.options.notify == 'emails')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"emails\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"emails\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.emails),expression:\"options.emails\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('emails'),\"name\":\"emails\",\"id\":\"emails\"},domProps:{\"value\":(_vm.options.emails)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"emails\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_emails_help\")+\" \")])]):_vm._e(),(_vm.options.notify == 'emails')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"users\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"users\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.users),expression:\"options.users\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('users'),\"name\":\"users\",\"id\":\"users\"},domProps:{\"value\":(_vm.options.users)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"users\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_idxs_help\")+\" \")])]):_vm._e(),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"idx\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"landing post idx\")))]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.idx),expression:\"options.idx\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('post idx'),\"name\":\"idx\",\"id\":\"idx\"},domProps:{\"value\":(_vm.options.idx)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"idx\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary px-5\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.loadPostIdx()}}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"load_post_idx\"))+\" \")])])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"title\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.title),expression:\"options.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('title'),\"name\":\"title\",\"id\":\"title\"},domProps:{\"value\":(_vm.options.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"idx\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"content\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.body),expression:\"options.body\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('content'),\"name\":\"body\",\"id\":\"body\"},domProps:{\"value\":(_vm.options.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"body\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"click_action\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"click_url\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.click_action),expression:\"options.click_action\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('click_url'),\"name\":\"click_action\",\"id\":\"click_action\"},domProps:{\"value\":(_vm.options.click_action)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"click_action\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"imageUrl\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"icon_url\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.imageUrl),expression:\"options.imageUrl\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('icon_url'),\"name\":\"imageUrl\",\"id\":\"imageUrl\"},domProps:{\"value\":(_vm.options.imageUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"imageUrl\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" \"+_vm._s(\"push_message_icon_url_help\")+\" \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"sound\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"sound\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.sound),expression:\"options.sound\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('sound'),\"name\":\"sound\",\"id\":\"sound\"},domProps:{\"value\":(_vm.options.sound)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"sound\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_sound_help\")+\" \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"channel\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"channel_id\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.channel),expression:\"options.channel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('channel_id'),\"name\":\"channel\",\"id\":\"channel\"},domProps:{\"value\":(_vm.options.channel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"channel\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex justify-content-between mt-2 mb-3\"},[_c('div',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.sendPushNotification()}}},[(!_vm.loading)?_c('span',[_vm._v(_vm._s(_vm._f(\"t\")(\"send_notification\")))]):_vm._e(),(_vm.loading)?_c('span',[_vm._v(_vm._s(_vm._f(\"t\")(\"loading\")))]):_vm._e()])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport { ApiService } from \"@/x-vue/services/api.service\";\r\nimport { DEFAULT_TOPIC } from \"@/x-vue/services/defines\";\r\nimport { RequestData, ResponseData } from \"@/x-vue/services/interfaces\";\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\n\r\n@Component({})\r\nexport default class AdminPushNotification extends Vue {\r\n  options = {\r\n    idx: \"\",\r\n    notify: \"all\",\r\n    topic: \"\",\r\n    tokens: \"\",\r\n    emails: \"\",\r\n    users: \"\",\r\n    title: \"\",\r\n    body: \"\",\r\n    click_action: \"\",\r\n    imageUrl: \"\",\r\n    sound: \"telephoneringwav.wav\",\r\n    channel: \"PUSH_NOTIFICATION\",\r\n  };\r\n  loading = false;\r\n\r\n  mounted(): void {\r\n    if (this.$route.params.postIdx) {\r\n      this.options.idx = this.$route.params.postIdx;\r\n    }\r\n    this.loadPostIdx();\r\n  }\r\n\r\n  async loadPostIdx(): Promise<void> {\r\n    console.log(this.options.idx);\r\n    if (this.options.idx === \"\") return;\r\n    let options: RequestData = {\r\n      idx: this.options.idx,\r\n    };\r\n    try {\r\n      const post = await ApiService.instance.postGet(options);\r\n      this.options.title = post.title;\r\n      this.options.body = post.content;\r\n      this.options.click_action = post.url;\r\n      if (post.files.length > 0) {\r\n        this.options.imageUrl = post.files[0].url;\r\n      }\r\n      this.loading = false;\r\n    } catch (e) {\r\n      this.loading = false;\r\n      ApiService.instance.error(e);\r\n    }\r\n  }\r\n\r\n  async sendPushNotification(): Promise<void> {\r\n    if (this.loading) return;\r\n    this.loading = true;\r\n    const data: RequestData = {\r\n      title: this.options.title,\r\n      body: this.options.body,\r\n      click_action: this.options.click_action,\r\n      imageUrl: this.options.imageUrl,\r\n      sound: this.options.sound,\r\n      channel: this.options.channel,\r\n    };\r\n    if (this.options.idx) {\r\n      data[\"data\"] = {\r\n        idx: this.options.idx,\r\n        type: \"post\",\r\n      };\r\n    }\r\n\r\n    try {\r\n      let res: ResponseData = {};\r\n\r\n      /**\r\n       * Base on sending option it will request from the server\r\n       * All = send notification to default topic\r\n       * Topic = send notification to the givent topic\r\n       * Tokens = send notification to given tokens\r\n       * UserIDX/Emails = send notification to existing idx/email with their registed tokens\r\n       */\r\n      if (this.options.notify === \"all\") {\r\n        data[\"topic\"] = DEFAULT_TOPIC;\r\n        res = await ApiService.instance.sendMessageToTopic(data);\r\n      } else if (this.options.notify === \"topic\") {\r\n        data[\"topic\"] = this.options.topic;\r\n        res = await ApiService.instance.sendMessageToTopic(data);\r\n      } else if (this.options.notify === \"tokens\") {\r\n        data[\"tokens\"] = this.options.tokens;\r\n        res = await ApiService.instance.sendMessageToTokens(data);\r\n      } else if (this.options.notify === \"emails\") {\r\n        data[\"emails\"] = this.options.emails;\r\n        data[\"users\"] = this.options.users;\r\n        res = await ApiService.instance.sendMessageToUsers(data);\r\n      }\r\n\r\n      this.loading = false;\r\n\r\n      if (this.options.notify === \"tokens\") {\r\n        const s = res.success.length;\r\n        const f = res.error.length;\r\n        ApiService.instance.alert(\r\n          \"Send Push Message to tokens\",\r\n          `${s} Success, ${f} Fail.`\r\n        );\r\n      } else {\r\n        ApiService.instance.alert(\r\n          \"Send Push Message to topic\",\r\n          \"Success Sending push notification to topic.\"\r\n        );\r\n      }\r\n    } catch (e) {\r\n      this.loading = false;\r\n      ApiService.instance.error(e);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPushNotification.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPushNotification.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AdminPushNotification.vue?vue&type=template&id=30ab2e49&\"\nimport script from \"./AdminPushNotification.vue?vue&type=script&lang=ts&\"\nexport * from \"./AdminPushNotification.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}