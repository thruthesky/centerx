(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c1282"],{"459d":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h1",[t._v(t._s(t._f("t")("admin_dashboard")))]),s("div",[s("b-card",{attrs:{"no-body":""}},[s("b-tabs",{attrs:{pills:"",card:""}},[s("b-tab",{attrs:{title:t._f("t")("user"),active:"user"==t.activePage}},[s("admin-user-list")],1),s("b-tab",{attrs:{title:t._f("t")("category"),active:"category"==t.activePage}},[s("admin-category-list")],1),s("b-tab",{attrs:{title:t._f("t")("post"),active:"post"==t.activePage}},[s("admin-post-list")],1),s("b-tab",{attrs:{title:t._f("t")("file"),active:"file"==t.activePage}},[s("admin-file-list")],1),s("b-tab",{attrs:{title:t._f("t")("setting"),active:"setting"==t.activePage}},[s("admin-settings")],1),s("b-tab",{attrs:{title:t._f("t")("notification"),active:"notification"==t.activePage}},[s("admin-push-notification")],1)],1)],1)],1)])},o=[],n=s("9ab4"),a=s("2b0e"),r=s("2fe1"),c=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("Users")]),s("div",{staticClass:"d-flex justify-content-end mb-3"},[s("div",{staticClass:"mt-2 fw-700"},[t._v(t._s(t._f("t")("No·of·Users"))+":"+t._s(t.total))]),s("span",{staticClass:"flex-grow-1"}),s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmitSearch.apply(null,arguments)}}},[s("div",{staticClass:"form-row align-items-center"},[s("div",{staticClass:"col-auto"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.searchKey,expression:"searchKey"}],staticClass:"form-control mb-2",attrs:{type:"text",name:"key",placeholder:"사용자 메일 주소, 이름을 입력해주세요."},domProps:{value:t.searchKey},on:{input:function(e){e.target.composing||(t.searchKey=e.target.value)}}})]),s("div",{staticClass:"col-auto"},[s("button",{staticClass:"btn btn-primary mb-2",attrs:{type:"submit"}},[t._v(" "+t._s(t._f("t")("submit"))+" ")])])])])]),t.users?s("div",[s("div",{staticClass:"p-1 mb-3 border-radius-sm",staticStyle:{border:"1px solid #e8e8e8"}},[s("div",{staticClass:"m-2"},[t._v(t._s(t._f("t")("Fields")))]),t._l(t.options,(function(e,i){return s("div",{key:i,staticClass:"\n          custom-control custom-checkbox custom-control-inline\n          m-2\n          fs-sm\n          align-middle\n        "},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options[i],expression:"options[key]"}],staticClass:"custom-control-input",attrs:{"data-cy":i+"-option",type:"checkbox",id:i+"-option"},domProps:{checked:Array.isArray(t.options[i])?t._i(t.options[i],null)>-1:t.options[i]},on:{change:function(e){var s=t.options[i],o=e.target,n=!!o.checked;if(Array.isArray(s)){var a=null,r=t._i(s,a);o.checked?r<0&&t.$set(t.options,i,s.concat([a])):r>-1&&t.$set(t.options,i,s.slice(0,r).concat(s.slice(r+1)))}else t.$set(t.options,i,n)}}}),s("label",{staticClass:"custom-control-label text-capitalize",attrs:{for:i+"-option"}},[t._v(t._s(i))])])}))],2),s("section",{staticClass:"overflow-auto"},[s("table",{staticClass:"table table-striped fs-sm"},[s("thead",{staticClass:"thead-dark"},[s("tr",[s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v("#")]),t.options.email?s("th",{staticClass:"align-middle",attrs:{"data-cy":"firebaseUid-col-header",scope:"col"}},[t._v(" "+t._s(t._f("t")("email"))+" ")]):t._e(),t.options.firebaseUid?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("firebase_uid"))+" ")]):t._e(),t.options.name?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("name"))+" ")]):t._e(),t.options.nickname?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("nickname"))+" ")]):t._e(),t.options.point?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("point"))+" ")]):t._e(),t.options.phoneNo?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("phone_no"))+" ")]):t._e(),t.options.gender?s("th",{staticClass:"align-middle",attrs:{"data-cy":"gender-col-header",scope:"col"}},[t._v(" "+t._s(t._f("t")("gender"))+" ")]):t._e(),t.options.birthdate?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("birthdate"))+" ")]):t._e(),t.options.countryCode?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("country_code"))+" ")]):t._e(),t.options.province?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("province"))+" ")]):t._e(),t.options.city?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("city"))+" ")]):t._e(),t.options.address?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("address"))+" ")]):t._e(),t.options.zipcode?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("zipcode"))+" ")]):t._e(),t.options.createdAt?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("created_at"))+" ")]):t._e(),t.options.updatedAt?s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(" "+t._s(t._f("t")("updated_at"))+" ")]):t._e(),s("th",{staticClass:"align-middle",attrs:{scope:"col"}},[t._v(t._s(t._f("t")("edit")))])])]),s("tbody",t._l(t.users,(function(e){return s("tr",{key:e.idx},[s("th",{attrs:{scope:"row"}},[t._v(t._s(e.idx))]),t.options.email?s("td",[t._v(t._s(e.email))]):t._e(),t.options.firebaseUid?s("td",[t._v(t._s(e.firebaseUid))]):t._e(),t.options.name?s("td",[t._v(t._s(e.name))]):t._e(),t.options.nickname?s("td",[t._v(t._s(e.nickname))]):t._e(),t.options.point?s("td",[t._v(t._s(e.point))]):t._e(),t.options.phoneNo?s("td",[t._v(t._s(e.phoneNo))]):t._e(),t.options.gender?s("td",[t._v(t._s(e.gender))]):t._e(),t.options.birthdate?s("td",[t._v(t._s(e.birthdate))]):t._e(),t.options.countryCode?s("td",[t._v(t._s(e.countryCode))]):t._e(),t.options.province?s("td",[t._v(t._s(e.province))]):t._e(),t.options.city?s("td",[t._v(t._s(e.city))]):t._e(),t.options.address?s("td",[t._v(t._s(e.address))]):t._e(),t.options.zipcode?s("td",[t._v(t._s(e.zipcode))]):t._e(),t.options.createdAt?s("td",[t._v(t._s(e.createdAt))]):t._e(),t.options.updatedAt?s("td",[t._v(t._s(e.updatedAt))]):t._e(),s("td",[s("router-link",{staticClass:"btn btn-sm btn-outline-primary",attrs:{"data-cy":"user-info-edit-button",to:"admin/user/edit/"+e.idx}},[t._v("edit")])],1)])})),0)])])]):t._e(),s("div",{staticClass:"overflow-auto"},[s("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.noOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},l=[],p=(s("d3b7"),s("9f3a")),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.users=[],e.total=0,e.limit=3,e.searchKey="",e.noOfPages=10,e.currentPage="1",e.options={email:!0,firebaseUid:!1,name:!0,nickname:!0,point:!0,phoneNo:!0,gender:!1,birthdate:!1,countryCode:!1,province:!1,city:!1,address:!1,zipcode:!1,createdAt:!1,updatedAt:!1},e}return Object(n["c"])(e,t),e.prototype.linkGen=function(t){return 1===t?"?":"?page="+t},e.prototype.onPageChanged=function(t){console.log("page; ",t),this.onSubmitSearch()},e.prototype.mounted=function(){this.currentPage=this.$route.query.page,this.onSubmitSearch()},e.prototype.onSubmitSearch=function(){var t;return Object(n["a"])(this,void 0,Promise,(function(){var e,s,i;return Object(n["d"])(this,(function(o){switch(o.label){case 0:console.log("page changed",this.currentPage),o.label=1;case 1:return o.trys.push([1,4,,5]),e=this,[4,p["a"].instance.userSearch({searchKey:this.searchKey,limit:this.limit,page:null!==(t=this.currentPage)&&void 0!==t?t:"1",full:!0})];case 2:return e.users=o.sent(),console.log(this.users),s=this,[4,p["a"].instance.userCount({searchKey:this.searchKey})];case 3:return s.total=o.sent(),this.noOfPages=Math.ceil(this.total/this.limit),[3,5];case 4:return i=o.sent(),p["a"].instance.error(i),[3,5];case 5:return[2]}}))}))},e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"]),d=u,m=d,_=s("2877"),f=Object(_["a"])(m,c,l,!1,null,null,null),v=f.exports,h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("h4",[t._v("Category list")]),s("div",{staticClass:"container"},[s("div",{staticClass:"row"},[s("section",{staticClass:"w-100"},[s("admin-category-create")],1),s("table",{staticClass:"table table-striped mt-2"},[s("thead",{staticClass:"thead-dark"},[s("tr",{staticClass:"fs-sm"},[s("th",{attrs:{scope:"col"}},[t._v("#")]),s("th",{attrs:{scope:"col"}},[t._v("ID")]),s("th",{attrs:{scope:"col"}},[t._v(t._s(t._f("t")("title")))]),s("th",{attrs:{scope:"col"}},[t._v(t._s(t._f("t")("description")))]),s("th",{attrs:{scope:"col"}},[t._v(t._s(t._f("t")("action")))])])]),s("tbody",t._l(t.categories,(function(e){return s("tr",{key:e.idx},[s("th",{attrs:{scope:"row"}},[s("router-link",{attrs:{to:"/forum/"+e.id}},[t._v(t._s(e.idx))])],1),s("td",[s("router-link",{attrs:{to:"/admin/category/edit/"+e.id}},[t._v(t._s(e.id)+" ")])],1),s("td",[s("span",[t._v(t._s(e.title))])]),s("td",[s("span",[t._v(" "+t._s(e.description)+" ")])]),s("td",{staticClass:"justify-content-center"},[s("div",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(s){return t.onClickDelete(e)}}},[t._v(" ❌ ")])])])})),0)]),s("div",{staticClass:"overflow-auto"},[s("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.noOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])])])},g=[],b=(s("c740"),s("a434"),function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[s("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit()}}},[s("div",{staticClass:"d-flex"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t._f("t")("enter_category_id")},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),s("button",{staticClass:"btn btn-primary ml-3 mb-2 w-50",attrs:{type:"submit"}},[t._v(" "+t._s(t._f("t")("create"))+" ")])])])])}),y=[],C=(s("a4d3"),s("e01a"),function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.category={},e.api=p["a"].instance,e.id="",e.title="",e.description="",e}return Object(n["c"])(e,t),e.prototype.onSubmit=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e;return Object(n["d"])(this,(function(s){switch(s.label){case 0:console.log("categoryUpdate:: create"),s.label=1;case 1:return s.trys.push([1,3,,4]),t=this,[4,p["a"].instance.categoryCreate({id:this.id})];case 2:return t.category=s.sent(),console.log(this.category),this.api.open({path:"/admin/category/edit/"+this.category.id}),[3,4];case 3:return e=s.sent(),"error_category_exists"==e?this.api.open({path:"/admin/category/edit/"+this.id}):this.api.error(e),[3,4];case 4:return[2]}}))}))},e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"])),x=C,k=x,P=Object(_["a"])(k,b,y,!1,null,null,null),O=P.exports,j=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.categories=[],e.limit=5,e.noOfPages=10,e.currentPage="1",e.total=0,e}return Object(n["c"])(e,t),e.prototype.linkGen=function(t){return 1===t?"?":"?page="+t},e.prototype.onPageChanged=function(t){console.log("page; ",t),this.onSubmitSearch()},e.prototype.mounted=function(){this.onSubmitSearch()},e.prototype.onSubmitSearch=function(){var t;return Object(n["a"])(this,void 0,Promise,(function(){var e,s,i;return Object(n["d"])(this,(function(o){switch(o.label){case 0:return o.trys.push([0,3,,4]),e=this,[4,p["a"].instance.categorySearch({limit:this.limit,page:null!==(t=this.currentPage)&&void 0!==t?t:"1"})];case 1:return e.categories=o.sent(),s=this,[4,p["a"].instance.categoryCount({})];case 2:return s.total=o.sent(),this.noOfPages=Math.ceil(this.total/this.limit),[3,4];case 3:return i=o.sent(),p["a"].instance.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.onClickDelete=function(t){return Object(n["a"])(this,void 0,Promise,(function(){var e,s,i,o;return Object(n["d"])(this,(function(n){switch(n.label){case 0:if(console.log(t),e=confirm("Delete the category?"),!e)return[2];console.log(e),n.label=1;case 1:return n.trys.push([1,3,,4]),[4,p["a"].instance.categoryDelete({idx:t.idx})];case 2:return s=n.sent(),i=this.categories.findIndex((function(t){return t.idx==s.idx})),-1!=i&&this.categories.splice(i,1),console.log(s),[3,4];case 3:return o=n.sent(),p["a"].instance.error(o),[3,4];case 4:return[2]}}))}))},e=Object(n["b"])([Object(r["a"])({components:{AdminCategoryCreate:O}})],e),e}(a["a"]),w=j,S=w,$=Object(_["a"])(S,h,g,!1,null,null,null),N=$.exports,U=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[t._v("Post list")])},A=[],I=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["c"])(e,t),e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"]),E=I,K=E,M=Object(_["a"])(K,U,A,!1,null,null,null),T=M.exports,D=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[t._v("File list")])},z=[],F=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["c"])(e,t),e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"]),G=F,L=G,H=Object(_["a"])(L,D,z,!1,null,null,null),J=H.exports,q=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},B=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("h4",[t._v("Admin Settings")]),s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"exampleInputEmail1"}},[t._v("Admin email addresses")]),s("input",{staticClass:"form-control",attrs:{type:"email",id:"exampleInputEmail1","aria-describedby":"emailHelp"}}),s("small",{staticClass:"form-text text-muted",attrs:{id:"emailHelp"}},[t._v(" Input multip admin email addresses separating by comma(,). ")])])])])}],Q=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.form={},e}return Object(n["c"])(e,t),e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"]),R=Q,V=R,W=Object(_["a"])(V,q,B,!1,null,null,null),X=W.exports,Y=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{attrs:{"data-cy":"push-notification-create-page"}},[s("h4",[t._v(t._s(t._f("t")("push notification")))]),s("form",[s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"status"}},[t._v(t._s(t._f("t")("sending option")))]),s("select",{directives:[{name:"model",rawName:"v-model",value:t.options.notify,expression:"options.notify"}],staticClass:"custom-select",attrs:{id:"notify",name:"notify"},on:{change:function(e){var s=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.options,"notify",e.target.multiple?s:s[0])}}},[s("option",{attrs:{value:"all"}},[t._v(t._s(t._f("t")("all")))]),s("option",{attrs:{value:"topic"}},[t._v(t._s(t._f("t")("topic")))]),s("option",{attrs:{value:"tokens"}},[t._v(t._s(t._f("t")("token")))]),s("option",{attrs:{value:"emails"}},[t._v(t._s(t._f("t")("emails")))])])]),"topic"==t.options.notify?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"topic"}},[t._v(t._s(t._f("t")("topic")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.topic,expression:"options.topic"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("topic"),name:"topic",id:"topic"},domProps:{value:t.options.topic},on:{input:function(e){e.target.composing||t.$set(t.options,"topic",e.target.value)}}})]):t._e(),"tokens"==t.options.notify?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"tokens"}},[t._v(t._s(t._f("t")("tokens")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.tokens,expression:"options.tokens"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("token"),name:"tokens",id:"tokens"},domProps:{value:t.options.tokens},on:{input:function(e){e.target.composing||t.$set(t.options,"tokens",e.target.value)}}})]):t._e(),"emails"==t.options.notify?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"emails"}},[t._v(t._s(t._f("t")("emails")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.emails,expression:"options.emails"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("emails"),name:"emails",id:"emails"},domProps:{value:t.options.emails},on:{input:function(e){e.target.composing||t.$set(t.options,"emails",e.target.value)}}}),s("div",{staticClass:"text-muted"},[t._v(" Input user email. Send to many emails. Separated them by comma. ")])]):t._e(),"emails"==t.options.notify?s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"users"}},[t._v(t._s(t._f("t")("users")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.users,expression:"options.users"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("users"),name:"users",id:"users"},domProps:{value:t.options.users},on:{input:function(e){e.target.composing||t.$set(t.options,"users",e.target.value)}}}),s("div",{staticClass:"text-muted"},[t._v(" Input user idx. Send to many Users. Separated them by comma. ")])]):t._e(),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"idx"}},[t._v(t._s(t._f("t")("landing post idx")))]),s("div",{staticClass:"input-group"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.idx,expression:"options.idx"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("post idx"),name:"idx",id:"idx"},domProps:{value:t.options.idx},on:{input:function(e){e.target.composing||t.$set(t.options,"idx",e.target.value)}}}),s("div",{staticClass:"input-group-append"},[s("button",{staticClass:"btn btn-outline-secondary px-5",attrs:{type:"button"},on:{click:function(e){return t.loadPostIdx()}}},[t._v(" "+t._s(t._f("t")("load post idx"))+" ")])])])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"title"}},[t._v(t._s(t._f("t")("title")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.title,expression:"options.title"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("title"),name:"title",id:"title"},domProps:{value:t.options.title},on:{input:function(e){e.target.composing||t.$set(t.options,"title",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"idx"}},[t._v(t._s(t._f("t")("content")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.body,expression:"options.body"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("content"),name:"body",id:"body"},domProps:{value:t.options.body},on:{input:function(e){e.target.composing||t.$set(t.options,"body",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"click_action"}},[t._v(t._s(t._f("t")("click url")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.click_action,expression:"options.click_action"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("click url"),name:"click_action",id:"click_action"},domProps:{value:t.options.click_action},on:{input:function(e){e.target.composing||t.$set(t.options,"click_action",e.target.value)}}})]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"imageUrl"}},[t._v(t._s(t._f("t")("Icon Url")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.imageUrl,expression:"options.imageUrl"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("Icon Url"),name:"imageUrl",id:"imageUrl"},domProps:{value:t.options.imageUrl},on:{input:function(e){e.target.composing||t.$set(t.options,"imageUrl",e.target.value)}}}),s("small",{staticClass:"form-text text-muted"},[t._v(" If the post has an image, that image will be used as Icon. or Default image in 'config.php' will be used. ")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"sound"}},[t._v(t._s(t._f("t")("sound")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.sound,expression:"options.sound"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("sound"),name:"sound",id:"sound"},domProps:{value:t.options.sound},on:{input:function(e){e.target.composing||t.$set(t.options,"sound",e.target.value)}}}),s("div",{staticClass:"text-muted"},[t._v(" Make sure to include the file extension. It will not work on IOS if it dont have file extension. ")])]),s("div",{staticClass:"form-group"},[s("label",{attrs:{for:"channel"}},[t._v(t._s(t._f("t")("channel id")))]),s("input",{directives:[{name:"model",rawName:"v-model",value:t.options.channel,expression:"options.channel"}],staticClass:"form-control",attrs:{type:"text",placeholder:t._f("t")("channel id"),name:"channel",id:"channel"},domProps:{value:t.options.channel},on:{input:function(e){e.target.composing||t.$set(t.options,"channel",e.target.value)}}})]),s("div",{staticClass:"d-flex justify-content-between mt-2 mb-3"},[s("div",[s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.sendPushNotification()}}},[t.loading?t._e():s("span",[t._v(t._s(t._f("t")("send notification")))]),t.loading?s("span",[t._v(t._s(t._f("t")("loading")))]):t._e()])])])])])},Z=[],tt=s("20d6"),et=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.options={idx:"",notify:"all",topic:"",tokens:"",emails:"",users:"",title:"",body:"",click_action:"",imageUrl:"",sound:"telephoneringwav.wav",channel:"PUSH_NOTIFICATION"},e.loading=!1,e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.$route.params.postIdx&&(this.options.idx=this.$route.params.postIdx),this.loadPostIdx()},e.prototype.loadPostIdx=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e,s;return Object(n["d"])(this,(function(i){switch(i.label){case 0:if(console.log(this.options.idx),""===this.options.idx)return[2];t={idx:this.options.idx},i.label=1;case 1:return i.trys.push([1,3,,4]),[4,p["a"].instance.postGet(t)];case 2:return e=i.sent(),this.options.title=e.title,this.options.body=e.content,this.options.click_action=e.url,e.files.length>0&&(this.options.imageUrl=e.files[0].url),this.loading=!1,[3,4];case 3:return s=i.sent(),this.loading=!1,p["a"].instance.error(s),[3,4];case 4:return[2]}}))}))},e.prototype.sendPushNotification=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e,s,i,o;return Object(n["d"])(this,(function(n){switch(n.label){case 0:if(this.loading)return[2];this.loading=!0,t={title:this.options.title,body:this.options.body,click_action:this.options.click_action,imageUrl:this.options.imageUrl,sound:this.options.sound,channel:this.options.channel},this.options.idx&&(t["data"]={idx:this.options.idx,type:"post"}),n.label=1;case 1:return n.trys.push([1,10,,11]),e={},"all"!==this.options.notify?[3,3]:(t["topic"]=tt["a"],[4,p["a"].instance.sendMessageToTopic(t)]);case 2:return e=n.sent(),[3,9];case 3:return"topic"!==this.options.notify?[3,5]:(t["topic"]=this.options.topic,[4,p["a"].instance.sendMessageToTopic(t)]);case 4:return e=n.sent(),[3,9];case 5:return"tokens"!==this.options.notify?[3,7]:(t["tokens"]=this.options.tokens,[4,p["a"].instance.sendMessageToTokens(t)]);case 6:return e=n.sent(),[3,9];case 7:return"emails"!==this.options.notify?[3,9]:(t["emails"]=this.options.emails,t["users"]=this.options.users,[4,p["a"].instance.sendMessageToUsers(t)]);case 8:e=n.sent(),n.label=9;case 9:return this.loading=!1,"tokens"===this.options.notify?(s=e.success.length,i=e.error.length,p["a"].instance.alert("Send Push Message to tokens",s+" Success, "+i+" Fail.")):p["a"].instance.alert("Send Push Message to topic","Success Sending push notification to topic."),[3,11];case 10:return o=n.sent(),this.loading=!1,p["a"].instance.error(o),[3,11];case 11:return[2]}}))}))},e=Object(n["b"])([Object(r["a"])({})],e),e}(a["a"]),st=et,it=st,ot=Object(_["a"])(it,Y,Z,!1,null,null,null),nt=ot.exports,at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.activePage="user",e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.$route.params.page&&(this.activePage=this.$route.params.page)},e=Object(n["b"])([Object(r["a"])({components:{AdminUserList:v,AdminCategoryList:N,AdminPostList:T,AdminFileList:J,AdminSettings:X,AdminPushNotification:nt}})],e),e}(a["a"]),rt=at,ct=rt,lt=Object(_["a"])(ct,i,o,!1,null,null,null);e["default"]=lt.exports}}]);
//# sourceMappingURL=chunk-2d0c1282.334846a9.js.map