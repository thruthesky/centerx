{"version":3,"sources":["webpack:///./src/views/cafe/CafePushMessage.vue?ec45","webpack:///./src/views/cafe/CafePushMessage.vue","webpack:///./src/views/cafe/CafePushMessage.vue?a1a8","webpack:///./src/views/cafe/CafePushMessage.vue?6d62"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","_s","_f","cafe","tokenCount","$route","params","id","_m","on","$event","preventDefault","onSubmit","apply","arguments","staticClass","attrs","directives","name","rawName","value","expression","domProps","target","composing","idx","loadPostIdx","title","body","staticRenderFns","app","instance","post","loading","mounted","Promise","options","domain","cafeGet","console","log","error","postGet","content","cafeSendMessage","res","alert","CafePushMessage","component"],"mappings":"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","file":"js/chunk-2d0b5fc6.05817ff3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',[_c('h4',[_vm._v(_vm._s(_vm._f(\"t\")(\"cafe_push_message\")))]),_c('div'),_c('ul',[_c('li',[_vm._v(\" There are \"+_vm._s(_vm.cafe.tokenCount)+\" tokens for the \"+_vm._s(_vm.$route.params.id)+\". \")]),_vm._m(0),_c('li',[_vm._v(\" If you send the message with a post, then users will land on the post view page. \")]),_vm._m(1)]),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit.apply(null, arguments)}}},[_c('div',{staticClass:\"form-group\"},[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"idx\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"landing post idx\")))]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.idx),expression:\"idx\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('post idx'),\"name\":\"idx\",\"id\":\"idx\"},domProps:{\"value\":(_vm.idx)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.idx=$event.target.value}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary px-5\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.loadPostIdx()}}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"load post idx\"))+\" \")])])])]),_c('label',{attrs:{\"for\":\"titleBox\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"message_title\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.title),expression:\"title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"titleBox\",\"name\":\"title\",\"aria-describedby\":\"input title\"},domProps:{\"value\":(_vm.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.title=$event.target.value}}}),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"titleHelp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"input_message_title_help\"))+\" \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"bodyBox\"}},[_vm._v(_vm._s(\"message_body\"))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.body),expression:\"body\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"id\":\"bodyBox\",\"name\":\"body\"},domProps:{\"value\":(_vm.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.body=$event.target.value}}}),_c('small',{staticClass:\"form-text text-muted\",attrs:{\"id\":\"bodyHelp\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"input_message_body_help\"))+\" \")])]),_c('div',{staticClass:\"form-group d-flex justify-content-end\"},[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"submit\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"send\")))])])])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('li',[_vm._v(\" To send a message, you can input title and body. Then, submit. \"),_c('ul',[_c('li',[_vm._v(\"User will land on the cafe main page.\")])])])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('ul',[_c('li',[_vm._v(\" To select a post, click 'push message' button on post view page. \")])])}]\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { AppService } from \"@/service/app.service\";\nimport { XHelper } from \"@/x-vue-helper/x-helper\";\nimport { ApiService } from \"@/x-vue/services/api.service\";\nimport { CafeModel, PostModel, RequestData } from \"@/x-vue/services/interfaces\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component({})\nexport default class CafePushMessage extends Vue {\n  app = AppService.instance;\n  cafe: CafeModel = {} as CafeModel;\n  post: PostModel = {} as PostModel;\n  tokenCount = 0;\n\n  idx = \"\";\n  title = \"\";\n  body = \"\";\n\n  loading = false;\n  async mounted(): Promise<void> {\n    // console.log(\"CafePushMessage::mounted(); \");\n\n    let options: RequestData = {\n      domain: this.$route.params.id,\n    };\n\n    try {\n      this.cafe = await ApiService.instance.cafeGet(options);\n      console.log(\"CafePushMessage\", this.cafe);\n    } catch (e) {\n      XHelper.instance.error(e);\n    }\n  }\n\n  async loadPostIdx(): Promise<void> {\n    console.log(this.idx);\n    if (this.idx === \"\") return;\n    let options: RequestData = {\n      idx: this.idx,\n    };\n    try {\n      const post = await ApiService.instance.postGet(options);\n      this.title = post.title;\n      this.body = post.content;\n      this.loading = false;\n    } catch (e) {\n      this.loading = false;\n      XHelper.instance.error(e);\n    }\n  }\n\n  async onSubmit(): Promise<void> {\n    let options: RequestData = {\n      domain: this.$route.params.id,\n      title: this.title,\n      body: this.body,\n      idx: this.idx,\n    };\n\n    try {\n      const res = await ApiService.instance.cafeSendMessage(options);\n      console.log(res);\n      XHelper.instance.alert(\n        \"Send Push Message\",\n        \"Success Sending push notification to topic.\"\n      );\n    } catch (e) {\n      XHelper.instance.error(e);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CafePushMessage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./CafePushMessage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./CafePushMessage.vue?vue&type=template&id=525399be&\"\nimport script from \"./CafePushMessage.vue?vue&type=script&lang=ts&\"\nexport * from \"./CafePushMessage.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}