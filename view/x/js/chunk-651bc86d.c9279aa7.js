(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-651bc86d"],{"0ca9":function(e,t,i){"use strict";var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"text-center my-2",class:["text-"+e.variant]},[i("b-spinner",{staticClass:"align-middle mr-2"}),i("strong",[e._v(e._s("loading..."))])],1)},n=[],a=i("9ab4"),r=i("1b40"),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(a["c"])(t,e),Object(a["b"])([Object(r["b"])({default:"success"})],t.prototype,"variant",void 0),t=Object(a["b"])([Object(r["a"])({})],t),t}(r["c"]),o=l,c=o,u=i("2877"),b=Object(u["a"])(c,s,n,!1,null,null,null);t["a"]=b.exports},1613:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("h4",[e._v(e._s(e._f("t")("Users")))]),i("div",{staticClass:"mb-3"},[i("div",{staticClass:"my-2 fw-700"},[e._v(e._s(e._f("t")("no_of_users"))+": "+e._s(e.total))]),i("form",{on:{submit:function(t){return t.preventDefault(),e.onSubmitSearch.apply(null,arguments)}}},[i("b-row",{attrs:{"no-gutters":""}},[i("b-col",[i("b-input-group",{staticClass:"pr-2",attrs:{size:"sm",prepend:"limit"}},[i("b-form-input",{attrs:{id:"limit",placeholder:"limit"},model:{value:e.limit,callback:function(t){e.limit=t},expression:"limit"}})],1)],1),i("b-col",{attrs:{cols:"8"}},[i("b-input-group",{staticClass:"pr-2",attrs:{size:"sm",prepend:"searchkey"}},[i("b-form-input",{attrs:{id:"searchKey",placeholder:e._f("t")("enter_email_address_or_name")},model:{value:e.searchKey,callback:function(t){e.searchKey=t},expression:"searchKey"}})],1)],1),i("b-col",[i("b-button",{staticClass:"w-100",attrs:{type:"submit",size:"sm",variant:"primary"}},[e._v(e._s(e._f("t")("submit")))])],1)],1)],1)]),i("div",[i("div",{staticClass:"p-1 mb-3 border-radius-sm",staticStyle:{border:"1px solid #e8e8e8"}},e._l(e.fields,(function(t){return i("b-checkbox",{key:t.key,attrs:{size:"sm",disabled:1==e.visibleFields.length&&t.visible,inline:""},model:{value:t.visible,callback:function(i){e.$set(t,"visible",i)},expression:"field.visible"}},[e._v(" "+e._s(e._f("t")(t.label||t.key))+" ")])})),1),i("section",{staticClass:"overflow-auto mb-3"},[i("b-table",{attrs:{small:"",striped:"",hover:"",items:e.users,fields:e.visibleFields,busy:e.loading,bordered:!0,responsive:"true"},scopedSlots:e._u([{key:"head()",fn:function(t){return[i("div",{staticClass:"text-nowrap"},[e._v(e._s(e._f("t")(t.label)))])]}},{key:"cell(user)",fn:function(t){return[i("div",{staticClass:"d-flex align-items-center"},[i("b-avatar",{staticClass:"mr-1",attrs:{src:t.item.photoUrl}}),i("router-link",{attrs:{to:"/admin/user/edit/"+t.item.idx}},[i("div",[e._v("("+e._s(t.item.idx)+") "+e._s(t.item.name))]),i("div",[e._v(e._s(t.item.email))])])],1)]}},{key:"cell(block)",fn:function(t){return[e._v(" "+e._s(e._f("t")(t.item.block?"block":"active"))+" ")]}},{key:"cell(action)",fn:function(t){return[i("div",{staticClass:"d-flex justify-content-around text-nowrap"},[i("button",{staticClass:"btn btn-sm btn-outline-info mr-1",on:{click:t.toggleDetails}},[e._v(" "+e._s(t.detailsShowing?"⮙":"⮛")+" ")]),i("router-link",{staticClass:"btn btn-sm btn-outline-primary",attrs:{to:e.editLink(t.item)}},[e._v("✏")])],1)]}},{key:"row-details",fn:function(t){return[i("b-card",{attrs:{"body-class":"p-1 text-left"}},[i("b-row",[i("b-col",[e._v("idx: "+e._s(t.item.idx))]),i("b-col",[e._v("name: "+e._s(t.item.name))]),i("b-col",[e._v("nickname: "+e._s(t.item.nickname))])],1),i("b-row",[i("b-col",[e._v("email: "+e._s(t.item.email))]),i("b-col",[e._v("phone: "+e._s(t.item.phone))]),i("b-col",[e._v("gender: "+e._s(t.item.gender))])],1),i("b-row",[i("b-col",[e._v("city: "+e._s(t.item.city))]),i("b-col",[e._v("countryCode: "+e._s(t.item.countryCode))]),i("b-col",[e._v("birthdate: "+e._s(t.item.birthdate))])],1),i("div",[e._v("address: "+e._s(t.item.address))]),i("div",[e._v("createdAt: "+e._s(t.item.createdAt))]),i("div",[e._v("updatedAt: "+e._s(t.item.updatedAt))])],1)]}},{key:"table-busy",fn:function(){return[i("Loading",{attrs:{variant:"danger"}})]},proxy:!0}])})],1)]),e.noOfPages>0?i("div",{staticClass:"overflow-auto"},[i("b-pagination-nav",{attrs:{"link-gen":e.linkGen,"number-of-pages":e.noOfPages,"use-router":""},on:{change:e.onPageChanged},model:{value:e.currentPage,callback:function(t){e.currentPage=t},expression:"currentPage"}})],1):e._e()])},n=[],a=(i("4de4"),i("ac1f"),i("841c"),i("d3b7"),i("9ab4")),r=i("9f3a"),l=i("2b0e"),o=i("2fe1"),c=i("190e"),u=i("0ca9"),b=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.s=c["b"].instance,t.users=[],t.total=0,t.limit=5,t.searchKey="",t.noOfPages=10,t.currentPage="1",t.loading=!1,t.fields=[{key:"user",visible:!0},{key:"firebaseUid",visible:!1},{key:"nickname",visible:!0},{key:"point",visible:!0,sortable:!0},{key:"phoneNo",visible:!0},{key:"gender",visible:!1},{key:"birthdate",visible:!1},{key:"countryCode",label:"country_code",visible:!1},{key:"province",visible:!1},{key:"city",visible:!1},{key:"address",visible:!1},{key:"zipcode",visible:!1},{key:"createdAt",label:"Registered",visible:!1},{key:"updatedAt",label:"Updated",visible:!1},{key:"block",label:"Status",visible:!0,sortable:!0},{key:"action",visible:!0,class:"text-center"}],t}return Object(a["c"])(t,e),Object.defineProperty(t.prototype,"visibleFields",{get:function(){return this.fields.filter((function(e){return e.visible}))},enumerable:!1,configurable:!0}),t.prototype.editLink=function(e){return"/admin/user/edit/"+e.idx+window.location.search},t.prototype.linkGen=function(e){return 1===e?"?":"?page="+e},t.prototype.onPageChanged=function(e){this.currentPage=""+e,this.onSubmitSearch()},t.prototype.mounted=function(){this.currentPage=this.$route.query.page?this.$route.query.page:"1",this.onSubmitSearch()},t.prototype.onSubmitSearch=function(){return Object(a["a"])(this,void 0,Promise,(function(){var e,t,i;return Object(a["d"])(this,(function(s){switch(s.label){case 0:if(this.loading)return[2];this.loading=!0,s.label=1;case 1:return s.trys.push([1,4,,5]),e=this,[4,r["a"].instance.userSearch({searchKey:this.searchKey,limit:this.limit,page:this.currentPage,full:!0})];case 2:return e.users=s.sent(),t=this,[4,r["a"].instance.userCount({searchKey:this.searchKey})];case 3:return t.total=s.sent(),this.noOfPages=Math.ceil(this.total/this.limit),[3,5];case 4:return i=s.sent(),this.s.error(i),[3,5];case 5:return this.loading=!1,[2]}}))}))},t=Object(a["b"])([Object(o["b"])({components:{Loading:u["a"]}})],t),t}(l["default"]),d=b,v=d,m=i("2877"),f=Object(m["a"])(v,s,n,!1,null,null,null);t["default"]=f.exports}}]);
//# sourceMappingURL=chunk-651bc86d.c9279aa7.js.map