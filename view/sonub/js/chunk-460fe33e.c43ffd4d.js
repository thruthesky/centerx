(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-460fe33e"],{1715:function(t,e,s){"use strict";s("6355")},"2a99":function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[t.id?s("div",{staticClass:"pointer",attrs:{tabindex:"0",id:t.id}},[t._v(" "+t._s(t.parent.user.displayName)+" ")]):t._e(),t.parent&&t.parent.idx?s("b-popover",{ref:"popover",attrs:{placement:"bottomright",target:t.id,triggers:"click blur"}},[s("user-menu",{attrs:{user:t.parent.user}})],1):t._e()],1)},r=[],o=s("9ab4"),a=s("2b0e"),i=s("2fe1"),c=s("f873"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.id="",e}return Object(o["c"])(e,t),e.prototype.mounted=function(){this.id="displayname-popover-"+this.parent.idx},e=Object(o["b"])([Object(i["b"])({props:["parent"],components:{UserMenu:c["a"]}})],e),e}(a["default"]),l=u,p=l,f=s("2877"),b=Object(f["a"])(p,n,r,!1,null,null,null);e["a"]=b.exports},6355:function(t,e,s){},"8c2c":function(t,e,s){},a153:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex"},[s("UserAvatar",{attrs:{user:t.parent.user,id:t.id,tabindex:"0"}}),t.parent&&t.parent.idx&&t.id?s("b-popover",{ref:"popover",attrs:{placement:"bottomright",target:t.id,triggers:"click blur"}},[s("user-menu",{attrs:{user:t.parent.user}})],1):t._e()],1)},r=[],o=s("9ab4"),a=s("2b0e"),i=s("2fe1"),c=s("f873"),u=s("5803"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gender="",e.id="",e}return Object(o["c"])(e,t),e.prototype.mounted=function(){this.id="user-avatar-popover-"+this.parent.idx},e=Object(o["b"])([Object(i["b"])({props:["parent"],components:{UserMenu:c["a"],UserAvatar:u["a"]}})],e),e}(a["default"]),p=l,f=p,b=(s("fe33"),s("2877")),d=Object(b["a"])(f,n,r,!1,null,"acd80636",null);e["a"]=d.exports},d54d:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"post-list-page",attrs:{"data-cy":"post-list-page"}},["travel"==t.categoryId&&1==t.currentPage?s("TwoColumnStoryGroupA",{staticClass:"round mb-2"}):t._e(),s("div",{staticClass:"d-flex"},[s("advertisement-square-banners",{staticClass:"mb-2",attrs:{banners:t.app.bannerList}})],1),s("advertisement-line-banner",{staticClass:"mb-2",attrs:{banners:t.app.bannerList}}),s("div",{staticClass:"mx-2 d-flex align-items-center"},[s("div",[t.forum.searchOptions.categoryId?s("div",[t._v(" "+t._s(t._f("t")("category"))+": "),s("span",{staticClass:"text-uppercase"},[t._v(t._s(t.forum.searchOptions.categoryId))])]):t._e(),t._v(" "+t._s(t._f("t")("no_of_posts"))+": "+t._s(t.total)+" ")]),s("span",{staticClass:"flex-grow-1"}),t.forum.searchOptions.categoryId?s("push-notification-icon",{attrs:{topic:t.forum.searchOptions.categoryId}}):t._e(),s("router-link",{staticClass:"btn btn-link",attrs:{"data-cy":"post-create-button",to:t.createLink}},[t._v(" "+t._s(t._f("t")("post_create"))+" ")])],1),t.posts.length?s("div",{staticClass:"mt-3"},t._l(t.posts,(function(t,e){return s("post-title-meta",{key:t.idx,staticClass:"my-2 p-2 bg-light rounded",attrs:{post:t,"data-cy":"post-titlemeta-"+e}})})),1):t._e(),t.forum.posts.length||t.forum.loading?t._e():s("div",{staticClass:"mt-3 p-2 text-center"},[t._v(" "+t._s(t._f("t")("no_posts"))+" ")]),t.forum.loading?s("div",{staticClass:"p-3 text-center rounded"},[s("b-spinner",{staticClass:"mx-2",attrs:{small:"",type:"grow",variant:"info"}}),t._v(" "+t._s(t._f("t")("loading_post"))+" ")],1):t._e(),t.posts.length?s("div",{staticClass:"d-flex mt-3 justify-content-center w-100"},[s("div",{staticClass:"overflow-auto"},[s("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.noOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]):t._e()],1)},r=[],o=(s("d3b7"),s("a15b"),s("9ab4")),a=s("d68b"),i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.post?s("article",{staticClass:"post-preview"},[t.post.deletedAt?t._e():s("div",{staticClass:"d-flex"},[s("user-avatar",{attrs:{parent:t.post}}),s("div",{staticClass:"ml-2 d-flex w-100"},[s("div",{staticClass:"w-100"},[s("router-link",{attrs:{to:t.toPostView()}},[s("b",[s("span",[t._v("No. "+t._s(t.post.idx)+" - ")]),s("span",{attrs:{"data-cy":"post-title"}},[t._v(t._s(t.post.title||"no title"))]),t.post.noOfComments?s("span",{staticClass:"ml-1"},[t._v(" ("+t._s(t.post.noOfComments)+") ")]):t._e()]),s("div",[t.post.comments.length?s("i",{staticClass:"text-muted"},[t._v(" "+t._s(t.post.comments[0].user.displayName)+': "'+t._s(t.post.comments[0].content)+'" ')]):t._e(),t.post.comments.length?t._e():s("i",{staticClass:"text-muted"},[t._v(" No comments yet .. ")])])])],1),s("post-meta-component",{staticClass:"ml-1 d-block",staticStyle:{width:"120px"},attrs:{showName:!0,post:t.post}})],1)],1),t.post.deletedAt?s("div",[t._v(" "+t._s(t._f("t")("post_deleted"))+" ")]):t._e()]):t._e()},c=[],u=(s("ac1f"),s("841c"),s("1b40")),l=s("a153"),p=s("fae8"),f=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),e.prototype.toPostView=function(){return(this.post.relativeUrl||"/"+this.post.idx)+location.search},e=Object(o["b"])([Object(u["a"])({props:["post"],components:{PostMetaComponent:p["a"],UserAvatar:l["a"]}})],e),e}(u["c"]),b=f,d=b,h=s("2877"),m=Object(h["a"])(d,i,c,!1,null,null,null),_=m.exports,v=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.banners.length?s("div",{staticClass:"d-flex w-100 pb-2 border-bottom"},t._l(t.banners,(function(e){return s("div",{key:e.idx,staticClass:"banner square pointer mr-1 col-3 p-0",on:{click:function(s){return t.onClick(e)}}},[s("img",{staticClass:"w-100 h-100",attrs:{src:e.bannerUrl}})])})),0):t._e()},g=[],y=s("2fe1"),O=s("2b0e"),C=s("5709"),x=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),Object.defineProperty(e.prototype,"_banners",{get:function(){return this.banners&&this.banners["square"]?this.banners["square"]:[]},enumerable:!1,configurable:!0}),e.prototype.onClick=function(t){C["a"].instance.openAdvertisement(t)},e=Object(o["b"])([Object(y["b"])({props:["banners"]})],e),e}(O["default"]),j=x,k=j,P=Object(h["a"])(k,v,g,!1,null,null,null),w=P.exports,T=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.currentBanner.bannerUrl?s("div",{staticClass:"mb-4 banner line d-flex pointer border-bottom",on:{click:t.onClick}},[s("img",{attrs:{src:t.currentBanner.bannerUrl}}),s("div",{staticClass:"title"},[t._v(" "+t._s(t.currentBanner.title)+" ")])]):t._e()},$=[],I=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return Object(o["c"])(e,t),e.prototype.mounted=function(){this.rotate()},Object.defineProperty(e.prototype,"_banners",{get:function(){return this.banners&&this.banners["line"]?this.banners["line"]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentBanner",{get:function(){return this._banners.length?this._banners[this.index%this._banners.length]:{}},enumerable:!1,configurable:!0}),e.prototype.rotate=function(){var t=this;setInterval((function(){return t.index++}),7e3)},e.prototype.onClick=function(){C["a"].instance.openAdvertisement(this.currentBanner)},e=Object(o["b"])([Object(y["b"])({props:["banners"]})],e),e}(O["default"]),U=I,q=U,A=Object(h["a"])(q,T,$,!1,null,null,null),N=A.exports,E=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"push-notification-icon"},[s("b-form-checkbox",{attrs:{name:"check-button",switch:""},on:{change:t.onChangeSubscribeOrUnsubscribeTopic},model:{value:t.data[t.postTopic],callback:function(e){t.$set(t.data,t.postTopic,e)},expression:"data[postTopic]"}},[s("span",[t._v(t._s(t._f("t")(t.title)))])])],1)},S=[],B=s("9f3a"),L=s("190e"),G=function(t){function e(){var e,s=null!==t&&t.apply(this,arguments)||this;return s.data=(e={},e[s.postTopic]=!1,e),s}return Object(o["c"])(e,t),Object.defineProperty(e.prototype,"postTopic",{get:function(){return"notifyPost_"+this.topic},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){return Object(o["a"])(this,void 0,Promise,(function(){var t,e;return Object(o["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,B["a"].instance.isSubscribedToTopic(this.postTopic)];case 1:return t=s.sent(),this.data[this.postTopic]="Y"===t[this.postTopic],[3,3];case 2:return e=s.sent(),L["b"].instance.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.onChangeSubscribeOrUnsubscribeTopic=function(){return Object(o["a"])(this,void 0,Promise,(function(){var t;return Object(o["d"])(this,(function(e){switch(e.label){case 0:if(!B["a"].instance._user.loggedIn)return this.data[this.postTopic]=!1,L["b"].instance.error("error_login_first"),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,B["a"].instance.topicSubscription({topic:this.postTopic,subscribe:this.data[this.postTopic]?"Y":"N"})];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),L["b"].instance.error(t),[3,4];case 4:return[2]}}))}))},Object(o["b"])([Object(u["b"])({default:"defaultTopic"})],e.prototype,"topic",void 0),Object(o["b"])([Object(u["b"])({default:""})],e.prototype,"title",void 0),e=Object(o["b"])([Object(u["a"])({})],e),e}(u["c"]),M=G,V=M,D=Object(h["a"])(V,E,S,!1,null,null,null),J=D.exports,Q=s("3fdf"),Y=s("20d6"),z=s("db17"),F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.app=a["a"].instance,e.forum=new Q["c"],e.total=0,e.noOfPages=10,e.currentPage=1,e}return Object(o["c"])(e,t),e.prototype.mounted=function(){return Object(o["a"])(this,void 0,Promise,(function(){return Object(o["d"])(this,(function(t){return this.init(),this.initPostCount(),this.loadPosts(),[2]}))}))},Object.defineProperty(e.prototype,"categoryId",{get:function(){return this.$route.params.categoryId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subCategory",{get:function(){return this.$route.query.sc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posts",{get:function(){return this.forum.posts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createLink",{get:function(){var t=this.$route.query.page?parseInt(this.$route.query.page):1;return"/forum/edit/"+this.linkGen(t)},enumerable:!1,configurable:!0}),e.prototype.linkGen=function(t){var e=[];t>1&&e.push("page="+t),this.subCategory&&e.push("sc="+this.subCategory);var s=this.categoryId;return e.length&&(s+="?"+e.join("&")),s},e.prototype.onPageChanged=function(t){this.forum.page=t,this.loadPosts()},e.prototype.init=function(){this.forum.categoryId=this.$route.params.categoryId;var t=this.$route.params.userIdx;t&&(this.forum.userIdx=parseInt(t)),this.forum.comments=1,this.$route.query.page?(this.currentPage=parseInt(this.$route.query.page),this.forum.page=this.currentPage):(this.currentPage=1,this.forum.page=1),this.subCategory&&(this.forum.subCategory=this.subCategory)},e.prototype.initPostCount=function(){return Object(o["a"])(this,void 0,Promise,(function(){var t,e;return Object(o["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),t=this,[4,this.app.api.postCount(this.forum.searchOptions)];case 1:return t.total=s.sent(),this.noOfPages=Math.ceil(this.total/this.forum.limit),[3,3];case 2:return e=s.sent(),e==Y["b"].category_not_exists?console.log("@ignore category not exists error on counting no of posts."):this.app.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.onQueryChange=function(t,e){console.log(t,e),this.initPostCount(),this.loadPosts()},e.prototype.loadPosts=function(){return Object(o["a"])(this,void 0,Promise,(function(){var t,e;return Object(o["d"])(this,(function(s){switch(s.label){case 0:if(this.forum.canLoad)return[2];this.forum.loading=!0,s.label=1;case 1:return s.trys.push([1,3,,4]),t=this.forum,[4,this.app.api.postSearch(this.forum.searchOptions)];case 2:return t.posts=s.sent(),[3,4];case 3:return e=s.sent(),this.app.error(e),[3,4];case 4:return this.forum.endLoad(),[2]}}))}))},Object(o["b"])([Object(u["d"])("$route.query.sc")],e.prototype,"onQueryChange",null),e=Object(o["b"])([Object(u["a"])({components:{PostTitleMeta:_,AdvertisementSquareBanners:w,AdvertisementLineBanner:N,PushNotificationIcon:J,TwoColumnStoryGroupA:z["a"]}})],e),e}(u["c"]),H=F,K=H,R=Object(h["a"])(K,n,r,!1,null,null,null);e["default"]=R.exports},f873:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"user-menu"},[0==t.user.verified?s("div",{staticClass:"not-verified"},[t._v("미인증 회원")]):t._e(),t.user.verified?s("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t.user.name))]):t._e(),t.user.verified?s("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t.user.age)+"세 / "+t._s(t._f("t")(t.user.gender)))]):t._e(),s("hr"),s("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t._f("t")("see_profile")))]),s("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/posts/"+t.user.idx}},[t._v(t._s(t._f("t")("see_posts")))]),s("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/comments/"+t.user.idx}},[t._v(t._s(t._f("t")("see_comments")))]),s("router-link",{staticClass:"d-block text-left",attrs:{to:"/message/"+t.user.idx}},[t._v(t._s(t._f("t")("send_message")))])],1)},r=[],o=s("9ab4"),a=s("2b0e"),i=s("2fe1"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),e=Object(o["b"])([Object(i["b"])({props:["user"]})],e),e}(a["default"]),u=c,l=u,p=(s("1715"),s("2877")),f=Object(p["a"])(l,n,r,!1,null,"27210317",null);e["a"]=f.exports},fae8:function(t,e,s){"use strict";var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"post-meta text-truncate"},[t.showName?s("user-displayname",{staticClass:"mr-2 font-weight-bold",attrs:{parent:t.post}}):t._e(),t.showName?t._e():s("span",{staticClass:"mr-2"},[t._v("No. "+t._s(t.post.idx))]),t.post.shortDate?s("span",{staticClass:"text-muted"},[t._v(" "+t._s(t.post.shortDate)+" ")]):t._e(),t.post.noOfViews?s("span",{staticClass:"text-muted mr-2"},[t._v(" Views "+t._s(t.post.noOfViews)+" ")]):t._e()],1)},r=[],o=s("9ab4"),a=s("2b0e"),i=s("2fe1"),c=s("2a99"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(o["c"])(e,t),e=Object(o["b"])([Object(i["b"])({props:["post","showName"],components:{UserDisplayname:c["a"]}})],e),e}(a["default"]),l=u,p=l,f=s("2877"),b=Object(f["a"])(p,n,r,!1,null,null,null);e["a"]=b.exports},fe33:function(t,e,s){"use strict";s("8c2c")}}]);
//# sourceMappingURL=chunk-460fe33e.c43ffd4d.js.map