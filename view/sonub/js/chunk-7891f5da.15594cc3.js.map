{"version":3,"sources":["webpack:///./src/x-vue/svg/CameraSvg.vue?97c4","webpack:///./src/x-vue/svg/CameraSvg.vue","webpack:///./src/x-vue/components/user/LoginFirst.vue?170d","webpack:///./src/x-vue/components/user/LoginFirst.vue","webpack:///./src/x-vue/components/user/LoginFirst.vue?7d39","webpack:///./src/x-vue/components/user/LoginFirst.vue?e828","webpack:///./src/x-vue/svg/TrashSvg.vue?28a7","webpack:///./src/x-vue/svg/TrashSvg.vue","webpack:///./src/x-vue/components/file/UploadImage.vue?244c","webpack:///./src/x-vue/components/file/UploadImage.vue?116a","webpack:///./src/x-vue/components/file/UploadImage.vue","webpack:///./src/x-vue/components/file/UploadImage.vue?ecf7","webpack:///./src/x-vue/components/file/UploadImage.vue?76f0","webpack:///./src/views/Profile.vue?fda0","webpack:///./src/views/Profile.vue","webpack:///./src/views/Profile.vue?f4b5","webpack:///./src/views/Profile.vue?35ee"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","script","component","api","_user","staticClass","_v","_e","instance","LoginFirst","ui","staticStyle","file","url","on","onClickDeleteImage","$event","onFileChangeImage","percent","confirmDelete","mounted","Promise","console","log","defaultImageUrl","entity","code","userIdx","req","taxonomy","fileGet","$emit","deleteImage","idx","fileDelete","re","confirm","event","files","target","length","fileUpload","p","default","UploadImage","components","CameraSvg","TrashSvg","user","_s","_f","photoUrl","profilePhotoChanged","preventDefault","onSubmit","point","name","model","value","callback","$$v","$set","expression","phoneNo","gener","birthdate","app","userProfile","store","commit","form","nickname","profileUpdate","alert","error","Profile"],"mappings":"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","file":"js/chunk-7891f5da.15594cc3.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 512 512\"}},[_c('path',{attrs:{\"d\":\"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./CameraSvg.vue?vue&type=template&id=556f7269&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return (_vm.api._user.notLoggedIn)?_c('div',{staticClass:\"p-2 text-center rounded bg-secondary\"},[_c('h3',[_vm._v(\"Login First\")])]):_vm._e()}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\nimport { ApiService } from \"../../services/api.service\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\n\n@Component({})\nexport default class LoginFirst extends Vue {\n  api = ApiService.instance;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginFirst.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./LoginFirst.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./LoginFirst.vue?vue&type=template&id=09e730eb&\"\nimport script from \"./LoginFirst.vue?vue&type=script&lang=ts&\"\nexport * from \"./LoginFirst.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('svg',{attrs:{\"xmlns\":\"http://www.w3.org/2000/svg\",\"viewBox\":\"0 0 448 512\"}},[_c('path',{attrs:{\"d\":\"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z\"}})])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","import { render, staticRenderFns } from \"./TrashSvg.vue?vue&type=template&id=93df412c&\"\nvar script = {}\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=style&index=0&id=025249b1&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[(_vm.ui == 'linear')?_c('section',{staticClass:\"upload-image-linear\"},[_c('div',{staticClass:\"uploaded-image d-inline-block\",staticStyle:{\"position\":\"relative\"}},[(_vm.file.url)?_c('img',{staticClass:\"w-100\",attrs:{\"src\":_vm.file.url}}):_vm._e(),(_vm.file.idx)?_c('div',{staticClass:\"close-button\",on:{\"click\":_vm.onClickDeleteImage}},[_c('div',[_vm._v(\"×\")])]):_vm._e()]),_c('div',{staticClass:\"upload-button\"},[_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChangeImage($event, 'banner')}}})])]):_vm._e(),(_vm.ui == 'circle')?_c('section',{staticClass:\"upload-image-circle\"},[_c('div',{staticClass:\"base\"},[_c('b-avatar',{attrs:{\"src\":_vm.file.url,\"size\":\"8rem\"}}),_c('CameraSvg',{staticClass:\"camera\"}),_c('input',{attrs:{\"type\":\"file\"},on:{\"change\":function($event){return _vm.onFileChangeImage($event, 'banner')}}})],1),(_vm.file.idx)?_c('div',{staticClass:\"trash\",on:{\"click\":_vm.onClickDeleteImage}},[_c('TrashSvg',{staticClass:\"trash-icon\"})],1):_vm._e()]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * 공용 위젯\r\n *\r\n * 이미 업로드 된 경우, [file] property 로 업로드된 파일을 전달 할 수 있고,\r\n * [taxonomy], [entity], [code], [userIdx] 로 업로드하는 파일이 어느 entity 에 귀속되는지 지정하고,\r\n * 기존에 존재하는 파일을 삭제하는 등, 완전한 업로드 기능을 한다.\r\n *\r\n * 다만, 로직은 동일한데, \"회원 사진 업로드\", \"쇼핑몰 사진 업로드\", \"광고 배너 업로드\" 등\r\n * 디자인의 변경이 많이 있을 수 있어,\r\n * 이 컴포넌트에서는 하나의 템플릿에 여러개의 디자인을 담도록 한다.\r\n *\r\n * 사용 예) 회원 프로필 사진을 수정하려면, 아래와 같이 userIdx 와 code 값만 전달하면 된다.\r\n * <UploadImage ui=\"circle\" :userIdx=\"user.idx\" code=\"photoUrl\" @uploaded=\"onProfilePhotoUpload\"></UploadImage>\r\n *\r\n * [defaultImageUrl] 은 사진을 업로드 하지 않았을 때, 보여 줄 기본 이미지이다.\r\n *   - 카카오톡이나 구글 등 소셜 로그인을 하면, 그 소셜 로그인의 프로필 사진이 사용자 photoUrl 필드에 저장되는데,\r\n *     만약, 프로필 사진을 업로드 하지 않았다면, 그 photoUrl 사진을 defaultIamgeUrl 로 넘겨 기본 이미지로\r\n *     보여 줄 수 있다.\r\n */\r\nimport Vue from \"vue\";\r\nimport { FileModel } from \"@/x-vue/interfaces/interfaces\";\r\nimport { ApiService } from \"@/x-vue/services/api.service\";\r\nimport { translate } from \"@/x-vue/services/functions\";\r\nimport { Component, Prop } from \"vue-property-decorator\";\r\nimport CameraSvg from \"@/x-vue/svg/CameraSvg.vue\";\r\nimport TrashSvg from \"@/x-vue/svg/TrashSvg.vue\";\r\n\r\n@Component({\r\n  components: { CameraSvg, TrashSvg },\r\n})\r\nexport default class UploadImage extends Vue {\r\n  @Prop({ default: \"linear\" }) ui!: \"linear\" | \"circle\";\r\n  @Prop() taxonomy!: string;\r\n  @Prop() entity!: number;\r\n  @Prop() code!: string;\r\n  @Prop() userIdx!: number;\r\n  @Prop({ default: \"\" }) defaultImageUrl!: string;\r\n  percent = 0;\r\n  file: FileModel = new FileModel();\r\n  confirmDelete = translate(\"do_you_want_to_delete\");\r\n  api: ApiService = ApiService.instance;\r\n  async mounted(): Promise<void> {\r\n    console.log(\"defaultImageUrl;\", this.defaultImageUrl);\r\n    try {\r\n      // 사진을 백엔드에서 가져온다.\r\n      if (this.entity || this.code || this.userIdx) {\r\n        const req = {\r\n          taxonomy: this.taxonomy,\r\n          entity: this.entity,\r\n          code: this.code,\r\n          userIdx: this.userIdx,\r\n        };\r\n\r\n        console.log(\"req;; \", req);\r\n        this.file = await this.api.fileGet(req);\r\n\r\n        console.log(\"file;\", this.file);\r\n      }\r\n    } catch (e) {\r\n      if (e !== \"error_entity_not_found\") {\r\n        this.$emit(\"error\", e);\r\n      } else {\r\n        this.file.url = this.defaultImageUrl;\r\n        // this.$set(this.file, \"url\", this.defaultImageUrl);\r\n        // console.log(\"this.file;, \", this.file);\r\n        console.log(\"e; \", e);\r\n      }\r\n    }\r\n  }\r\n\r\n  // Delete previously uploaded image\r\n  // 이전에 업로드된 사진이 있는가?\r\n  // 그렇다면, 이전 업로드된 파일이 쓰레기로 남지 않도록 삭제한다.\r\n  async deleteImage(): Promise<void> {\r\n    if (!this.file.idx) return;\r\n    try {\r\n      await this.api.fileDelete(this.file.idx);\r\n      this.$emit(\"deleted\", this.file.idx);\r\n      this.file = new FileModel();\r\n      if (this.defaultImageUrl) this.file.url = this.defaultImageUrl;\r\n    } catch (e) {\r\n      this.$emit(\"error\", e);\r\n    }\r\n  }\r\n  onClickDeleteImage(): void {\r\n    const re = confirm(this.confirmDelete);\r\n    if (re) {\r\n      this.deleteImage();\r\n    }\r\n  }\r\n\r\n  async onFileChangeImage(event: Event): Promise<void> {\r\n    const files = (event.target as HTMLInputElement).files as FileList;\r\n    if (files.length === 0) {\r\n      // console.log(\"User cancelled upload\");\r\n      return;\r\n    }\r\n    const file = files[0];\r\n\r\n    this.deleteImage();\r\n\r\n    // upload new image\r\n    // 새로운 사진을 업로드한다.\r\n    try {\r\n      this.file = await this.api.fileUpload(\r\n        file,\r\n        {\r\n          taxonomy: this.taxonomy,\r\n          entity: this.entity,\r\n          code: this.code,\r\n        },\r\n        (p: number) => {\r\n          this.percent = p;\r\n        }\r\n      );\r\n\r\n      this.$emit(\"uploaded\", this.file);\r\n    } catch (e) {\r\n      this.$emit(\"error\", e);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./UploadImage.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./UploadImage.vue?vue&type=template&id=025249b1&scoped=true&\"\nimport script from \"./UploadImage.vue?vue&type=script&lang=ts&\"\nexport * from \"./UploadImage.vue?vue&type=script&lang=ts&\"\nimport style0 from \"./UploadImage.vue?vue&type=style&index=0&id=025249b1&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"025249b1\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{staticClass:\"box\"},[(!_vm.user.idx)?_c('div',{staticClass:\"p-3 text-center rounded\"},[_c('b-spinner',{staticClass:\"mx-2\",attrs:{\"small\":\"\",\"type\":\"grow\",\"variant\":\"info\"}}),_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"loading_profile\"))+\" \")],1):_vm._e(),(_vm.user.idx)?_c('div',{staticClass:\"p-3\"},[_c('h1',{staticClass:\"mt-3\"},[_vm._v(\"회원 정보\")]),_c('small',[_vm._v(\" 회원 정보를 수정합니다. \")]),_c('div',{staticClass:\"d-flex justify-content-center\"},[_c('UploadImage',{attrs:{\"ui\":\"circle\",\"userIdx\":_vm.user.idx,\"code\":\"photoUrl\",\"defaultImageUrl\":_vm.user.photoUrl},on:{\"uploaded\":_vm.profilePhotoChanged,\"deleted\":_vm.profilePhotoChanged}})],1),_c('form',{on:{\"submit\":function($event){$event.preventDefault();return _vm.onSubmit($event)}}},[_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"point\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"point\")))]),_vm._v(\" \"+_vm._s(_vm.user.point)+\" \")]),_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"name\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"name\")))]),_vm._v(\" \"+_vm._s(_vm.user.name)+\" \")]),_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"nickname\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"nickname\")))]),_c('b-form-input',{attrs:{\"id\":\"nickname\",\"placeholder\":_vm._f(\"t\")('nickname')},model:{value:(_vm.user.nickname),callback:function ($$v) {_vm.$set(_vm.user, \"nickname\", $$v)},expression:\"user.nickname\"}})],1),_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"phoneNo\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"phone_number\")))]),_vm._v(\" \"+_vm._s(_vm.user.phoneNo)+\" \")]),_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"gender\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"gender\")))]),_vm._v(\" \"+_vm._s(_vm.user.gener)+\" \")]),_c('div',{attrs:{\"role\":\"group\"}},[_c('label',{attrs:{\"for\":\"birthdate\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"birthdate\")))]),_vm._v(\" \"+_vm._s(_vm.user.birthdate)+\" \")]),_c('div',{staticClass:\"mt-2 mb-3\"},[_c('button',{staticClass:\"btn btn-primary col-3\",attrs:{\"type\":\"submit\"}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"save\"))+\" \")])])])]):_vm._e()])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\n/**\r\n * 회원 정보(프로필) 보기 또는 수정 페이지\r\n *\r\n * 서버에서 새로운 정보를 가져와서 보여준다.\r\n * - 최신 정보를 보여주기도 하고,\r\n * - 사용자 정보를 FORM 데이터 컨테이너로 그대로 사용하기 때문.\r\n *\r\n */\r\nimport Vue from \"vue\";\r\nimport Component from \"vue-class-component\";\r\nimport LoginFirst from \"@/x-vue/components/user/LoginFirst.vue\";\r\nimport { ApiService } from \"@/x-vue/services/api.service\";\r\nimport { RequestData, UserModel } from \"@/x-vue/interfaces/interfaces\";\r\nimport UploadImage from \"@/x-vue/components/file/UploadImage.vue\";\r\nimport store from \"@/store\";\r\nimport { AppService } from \"@/service/app.service\";\r\n\r\n@Component({\r\n  components: {\r\n    LoginFirst,\r\n    UploadImage,\r\n  },\r\n})\r\nexport default class Profile extends Vue {\r\n  user: UserModel = {} as UserModel;\r\n  app = AppService.instance;\r\n  api: ApiService = ApiService.instance;\r\n\r\n  async mounted(): Promise<void> {\r\n    try {\r\n      this.user = await this.api.userProfile();\r\n    } catch (e) {\r\n      this.$emit(\"error\", e);\r\n    }\r\n  }\r\n\r\n  async profilePhotoChanged(): Promise<void> {\r\n    store.commit(\"user\", await this.api.userProfile());\r\n  }\r\n\r\n  async onSubmit(): Promise<void> {\r\n    let form: RequestData = {\r\n      nickname: this.user.nickname,\r\n    };\r\n\r\n    try {\r\n      await this.api.profileUpdate(form);\r\n      this.app.alert(\"profile\", \"profile_updated\");\r\n    } catch (e) {\r\n      this.app.error(e);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/ts-loader/index.js??ref--14-3!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Profile.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./Profile.vue?vue&type=template&id=0621541e&\"\nimport script from \"./Profile.vue?vue&type=script&lang=ts&\"\nexport * from \"./Profile.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}