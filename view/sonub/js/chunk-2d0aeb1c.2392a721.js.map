{"version":3,"sources":["webpack:///./src/views/chat/ChatUserRoomList.vue?34b5","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?2821","webpack:///./src/x-vue/components/chat/ChatRoomList.vue","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?1f64","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?17be","webpack:///./src/views/chat/ChatUserRoomList.vue","webpack:///./src/views/chat/ChatUserRoomList.vue?0074","webpack:///./src/views/chat/ChatUserRoomList.vue?1590"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","directives","name","rawName","value","expression","staticClass","domProps","on","$event","target","composing","idxOrEmail","preventDefault","onBeginChat","apply","arguments","onSameRoomChat","staticRenderFns","_l","chat","userRoomList","room","key","id","attrs","path","query","_s","instance","chatUserRoomListSubscription","Subscription","mounted","console","log","changes","subscribe","rooms","destroyed","unsubscribe","ChatRoomList","component","app","Promise","otherUserProfile","user","enter","users","firebaseUid","$router","push","error","hatch","components"],"mappings":"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","file":"js/chunk-2d0aeb1c.2392a721.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"My Chats\")]),_c('div',[_vm._v(\"Input user Idx or email to begin chat.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.idxOrEmail),expression:\"idxOrEmail\"}],staticClass:\"mb-2\",domProps:{\"value\":(_vm.idxOrEmail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.idxOrEmail=$event.target.value}}}),_c('div',[_c('button',{staticClass:\"btn btn-sm btn-primary mr-3\",on:{\"click\":function($event){$event.preventDefault();return _vm.onBeginChat.apply(null, arguments)}}},[_vm._v(\"Begin chat\")]),_c('button',{staticClass:\"btn btn-sm btn-secondary\",on:{\"click\":function($event){$event.preventDefault();return _vm.onSameRoomChat.apply(null, arguments)}}},[_vm._v(\"Same Room chat\")])]),_c('hr'),_c('h1',[_vm._v(\"Chat Room list\")]),_c('ChatRoomList'),_c('hr')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',_vm._l((_vm.chat.userRoomList.rooms),function(room){return _c('div',{key:room.id},[_c('router-link',{attrs:{\"to\":{ path: 'chat-message', query: { id: room.id } }}},[_vm._v(_vm._s(room.id))])],1)}),0)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\nimport { ChatService } from \"@/x-vue/services/chat/chat.service\";\nimport { ChatUserRoomListService } from \"@/x-vue/services/chat/chat.user_room_list.service\";\nimport { Subscription } from \"rxjs\";\nimport { Vue, Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ChatRoomList extends Vue {\n  chat = ChatService.instance;\n\n  chatUserRoomListSubscription: Subscription = new Subscription();\n  mounted(): void {\n    console.log(\"Subscribe ChatRoomList subscription\");\n    this.chatUserRoomListSubscription = ChatUserRoomListService.instance.changes.subscribe((rooms) => {\n      console.log(\"ChatRoomList:: changed\", rooms);\n    });\n  }\n\n  destroyed(): void {\n    console.log(\"Destroy ChatRoomList subscription\");\n    this.chatUserRoomListSubscription.unsubscribe();\n  }\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatRoomList.vue?vue&type=template&id=e19b798c&\"\nimport script from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport { Component } from \"vue-property-decorator\";\r\nimport { ChatService } from \"@/x-vue/services/chat/chat.service\";\r\nimport { ApiService } from \"@/x-vue/services/api.service\";\r\nimport { AppService } from \"@/service/app.service\";\r\nimport { ChatRoomService } from \"@/x-vue/services/chat/chat.room.service\";\r\n\r\nimport ChatRoomList from \"@/x-vue/components/chat/ChatRoomList.vue\";\r\n\r\n@Component({\r\n  components: {\r\n    ChatRoomList,\r\n  },\r\n})\r\nexport default class extends Vue {\r\n  app = AppService.instance;\r\n  chat = ChatService.instance;\r\n  idxOrEmail = \"\";\r\n\r\n  mounted(): void {\r\n    console.log(\"chat; \", this.chat);\r\n  }\r\n  async onBeginChat(): Promise<void> {\r\n    console.log(\"idxOrEmail; \", this.idxOrEmail);\r\n    try {\r\n      const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\r\n      console.log(\"user; \", user);\r\n      ChatRoomService.instance.enter({ users: [user.firebaseUid] });\r\n      this.$router.push({ path: \"chat-message\", query: { users: user.firebaseUid } });\r\n    } catch (e) {\r\n      this.app.error(e);\r\n    }\r\n  }\r\n\r\n  async onSameRoomChat(): Promise<void> {\r\n    console.log(\"idxOrEmail; \", this.idxOrEmail);\r\n    try {\r\n      const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\r\n      console.log(\"user; \", user);\r\n\r\n      this.$router.push({ path: \"chat-message\", query: { users: user.firebaseUid, hatch: \"false\" } });\r\n    } catch (e) {\r\n      this.app.error(e);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatUserRoomList.vue?vue&type=template&id=3fd47051&\"\nimport script from \"./ChatUserRoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatUserRoomList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}