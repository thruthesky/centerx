(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-6008255e"],{"0e25":function(t,e,r){},4435:function(t,e,r){},"8e29":function(t,e,r){"use strict";r("4435")},a153:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"d-flex forum-user-avatar"},[r("UserAvatar",{attrs:{user:t.parent.user,id:t.id,tabindex:"0"}}),t.parent&&t.parent.idx&&t.id?r("b-popover",{ref:"popover",attrs:{placement:"bottomright",target:t.id,triggers:"click blur"}},[r("user-menu",{attrs:{user:t.parent.user}})],1):t._e()],1)},n=[],a=r("9ab4"),i=r("2b0e"),o=r("2fe1"),c=r("f873"),u=r("5803"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.gender="",e.id="",e}return Object(a["c"])(e,t),e.prototype.mounted=function(){this.id="user-avatar-popover-"+this.parent.idx},e=Object(a["b"])([Object(o["b"])({props:["parent"],components:{UserMenu:c["a"],UserAvatar:u["a"]}})],e),e}(i["default"]),p=l,b=p,d=(r("df2c"),r("2877")),f=Object(d["a"])(b,s,n,!1,null,"52cd6694",null);e["a"]=f.exports},a51d:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"push-notification-icon"},[r("b-form-checkbox",{attrs:{name:"check-button",switch:""},on:{change:t.onChangeSubscribeOrUnsubscribeTopic},model:{value:t.data[t.postTopic],callback:function(e){t.$set(t.data,t.postTopic,e)},expression:"data[postTopic]"}},[r("span",[t._v(t._s(t._f("t")(t.title)))])])],1)},n=[],a=(r("d3b7"),r("9ab4")),i=r("9f3a"),o=r("190e"),c=r("1b40"),u=function(t){function e(){var e,r=null!==t&&t.apply(this,arguments)||this;return r.data=(e={},e[r.postTopic]=!1,e),r}return Object(a["c"])(e,t),Object.defineProperty(e.prototype,"postTopic",{get:function(){return this.rawTopic.length?this.rawTopic:"notifyPost_"+this.topic},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e;return Object(a["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),[4,i["a"].instance.isSubscribedToTopic(this.postTopic,this.subscribedByDefault)];case 1:return t=r.sent(),this.data[this.postTopic]="Y"===t[this.postTopic],[3,3];case 2:return e=r.sent(),o["b"].instance.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.onChangeSubscribeOrUnsubscribeTopic=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t;return Object(a["d"])(this,(function(e){switch(e.label){case 0:if(!i["a"].instance._user.loggedIn)return this.data[this.postTopic]=!1,o["b"].instance.error("error_login_first"),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i["a"].instance.topicSubscription({topic:this.postTopic,subscribe:this.data[this.postTopic]?"Y":"N"})];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),o["b"].instance.error(t),[3,4];case 4:return[2]}}))}))},Object(a["b"])([Object(c["b"])({default:"defaultTopic"})],e.prototype,"topic",void 0),Object(a["b"])([Object(c["b"])({default:""})],e.prototype,"rawTopic",void 0),Object(a["b"])([Object(c["b"])({default:""})],e.prototype,"title",void 0),Object(a["b"])([Object(c["b"])({default:!1})],e.prototype,"subscribedByDefault",void 0),e=Object(a["b"])([Object(c["a"])({})],e),e}(c["c"]),l=u,p=l,b=r("2877"),d=Object(b["a"])(p,s,n,!1,null,null,null);e["a"]=d.exports},b4bc:function(t,e,r){},c24e:function(t,e,r){"use strict";r.r(e);var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"forum-list",attrs:{"data-cy":"post-list-page"}},[t.showBanners?r("AdvertisementSquareBannerList",{staticClass:"mb-2",attrs:{banners:t.$store.state.banners,categoryId:t.$store.state.currentCategory,countryCode:t.app.cafeCountryCode}}):t._e(),t.showBanners?r("AdvertisementLineBanner",{staticClass:"mb-2 border p-1",attrs:{banners:t.$store.state.banners,categoryId:t.$store.state.currentCategory,countryCode:t.app.cafeCountryCode}}):t._e(),r("div",{staticClass:"row fs-sm align-items-center"},[r("div",{staticClass:"col-6 d-flex align-items-center"},[t.forum.searchOptions.categoryId?r("div",{staticClass:"ml-2 bold"},[t._v(" "+t._s(t._f("t")(t.forum.searchOptions.categoryId))+" ")]):t._e(),r("div",{staticClass:"ml-2 fs-sm"},[t._v(t._s(t._f("t")("no_of_posts"))+": "+t._s(t.app.numberWithCommas(t.total)))])]),r("div",{staticClass:"col-6 d-flex align-items-center justify-content-end"},[t.forum.searchOptions.categoryId?r("PushNotificationIcon",{attrs:{topic:t.forum.searchOptions.categoryId}}):t._e(),r("router-link",{staticClass:"btn btn-link fs-md",attrs:{"data-cy":"post-create-button",to:t.createLink}},[t._v(" "+t._s(t._f("t")("post_create"))+" ")])],1)]),t.category.subcategoriesArray.length?r("div",{staticClass:"d-flex ml-1 fs-sm"},t._l(t.category.subcategoriesArray,(function(e,s){return r("router-link",{key:e,staticClass:"d-flex align-items-center py-1",attrs:{to:t.subcategoryUrl(e)}},[s?r("span",{staticClass:"px-1 grey"},[t._v("•")]):t._e(),r("span",{staticClass:"px-1"},[t._v(t._s(e))])])})),1):t._e(),0==t.forum.loading?r("div",{staticClass:"mt-3"},[r("hr",{staticClass:"slim-hr"}),t._l(t.posts,(function(e){return r("section",{key:e.idx},[r("article",{staticClass:"d-flex align-items-center"},[r("ForumUserAvatar",{staticClass:"pointer",attrs:{parent:e}}),r("router-link",{staticClass:"flex-grow-1 ml-3 py-2 py-lg-3 text-truncate",attrs:{to:t.viewUrl(e)}},[r("section",[r("div",{staticClass:"d-flex align-items-center"},[r("h1",{staticClass:"title text-truncate"},[t._v(" "+t._s(t._f("t")(e.title||"no_title"))+" ")]),r("div",{staticClass:"d-flex align-items-top ml-1 mr-3"},[e.noOfComments?r("b-badge",{staticClass:"fs-xs",attrs:{variant:"light"}},[t._v(" "+t._s(e.noOfComments)+" ")]):t._e()],1),r("div",{staticClass:"d-none d-lg-block ml-auto fs-sm"},[t._v(t._s(e.shortDate))])]),r("div",{staticClass:"d-lg-none fs-xs"},[t._v(" "+t._s(e.user.displayName)+" Lv. "+t._s(e.user.level)+" "+t._s(e.shortDate)+" 조회: "+t._s(e.noOfViews)+" ")]),r("div",{staticClass:"d-flex"},[e.comments.length?r("div",{staticClass:"mt-lg-1 italic grey fs-xs"},[t._v(" "+t._s(e.comments[0].user.displayName)+': "'+t._s(e.comments[0].content)+'" ')]):r("div",{staticClass:"mt-lg-1 italic grey fs-xs text-truncate"},[t._v(t._s(e.content))]),r("div",{staticClass:"d-none d-lg-block ml-auto fs-sm"},[t._v(t._s(e.noOfViews))])])]),r("section",{staticClass:"date-view d-none d-lg-block ml-auto text-right"})]),r("div",{staticClass:"user d-none d-lg-block pointer",attrs:{id:"bp"+e.idx,tabindex:"0"}},[r("div",{staticClass:"name text-truncate"},[t._v(t._s(e.user.displayName))]),r("div",{staticClass:"level"},[t._v("Lv. "+t._s(e.user.level))]),r("b-popover",{ref:"popover",refInFor:!0,attrs:{placement:"bottomright",target:"bp"+e.idx,triggers:"click blur"}},[r("UserMenu",{attrs:{user:e.user}})],1)],1)],1),r("hr",{staticClass:"slim-hr"})])}))],2):t._e(),t.forum.posts.length||t.forum.loading?t._e():r("div",{staticClass:"mt-3 p-2 text-center"},[t._v(" "+t._s(t._f("t")("no_posts"))+" ")]),t.forum.loading?r("div",{staticClass:"p-3 text-center rounded"},[r("b-spinner",{staticClass:"mx-2",attrs:{small:"",type:"grow",variant:"info"}}),t._v(" "+t._s(t._f("t")("loading_post"))+" ")],1):t._e(),t.posts.length&&t.totalNoOfPages?r("div",{staticClass:"d-flex mt-3 justify-content-center w-100"},[r("div",{staticClass:"overflow-auto"},[r("b-pagination-nav",{attrs:{"link-gen":t.pageLinkGenerator,"number-of-pages":t.totalNoOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)]):t._e()],1)},n=[],a=(r("d3b7"),r("caad"),r("2532"),r("ac1f"),r("841c"),r("9ab4")),i=r("d68b"),o=r("1b40"),c=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.bannerList.length?r("div",{staticClass:"row no-gutters"},[r("AdvertisementSquareBanner",{staticClass:"col-3 pr-1",attrs:{banner:t.bannerList[0]}}),r("AdvertisementSquareBanner",{staticClass:"col-3 px-1",attrs:{banner:t.bannerList[1]}}),r("AdvertisementSquareBanner",{staticClass:"col-3 px-1",attrs:{banner:t.bannerList[2]}}),r("AdvertisementSquareBanner",{staticClass:"col-3 pl-1",attrs:{banner:t.bannerList[3]}})],1):t._e()},u=[],l=r("2b0e"),p=r("5709"),b=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.banner?r("div",{staticClass:"banner square pointer",on:{click:function(e){return t.onClick(t.banner)}}},[r("img",{staticClass:"w-100 h-100",attrs:{src:t.banner.bannerUrl}})]):t._e()},d=[],f=r("2fe1"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["c"])(e,t),e.prototype.onClick=function(){p["a"].instance.openAdvertisement(this.banner)},e=Object(a["b"])([Object(f["b"])({props:["banner"]})],e),e}(l["default"]),g=h,m=g,v=r("2877"),y=Object(v["a"])(m,b,d,!1,null,null,null),_=y.exports,C=r("09de"),O=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["c"])(e,t),Object.defineProperty(e.prototype,"bannerList",{get:function(){var t=Object(C["a"])("square",this.categoryId);return this.banners&&this.banners[t]?this.banners[t]:[]},enumerable:!1,configurable:!0}),e.prototype.onClick=function(t){p["a"].instance.openAdvertisement(t)},Object(a["b"])([Object(o["b"])()],e.prototype,"banners",void 0),Object(a["b"])([Object(o["b"])()],e.prototype,"countryCode",void 0),Object(a["b"])([Object(o["b"])()],e.prototype,"categoryId",void 0),e=Object(a["b"])([Object(o["a"])({components:{AdvertisementSquareBanner:_}})],e),e}(l["default"]),j=O,x=j,P=Object(v["a"])(x,c,u,!1,null,null,null),k=P.exports,w=function(){var t=this,e=t.$createElement,r=t._self._c||e;return t.currentBanner.bannerUrl?r("div",{staticClass:"banner line pointer row no-gutters",on:{click:t.onClick}},[r("div",{staticClass:"col-2 p-0 image-holder"},[r("img",{attrs:{src:t.currentBanner.bannerUrl}})]),r("div",{staticClass:"col-10 title"},[t._v(" "+t._s(t.currentBanner.title)+" ")])]):t._e()},I=[],B=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.index=0,e}return Object(a["c"])(e,t),e.prototype.mounted=function(){this.rotate()},Object.defineProperty(e.prototype,"_banners",{get:function(){var t=Object(C["a"])("line",this.categoryId);return this.banners&&this.banners[t]?this.banners[t]:[]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentBanner",{get:function(){return this._banners.length?this._banners[this.index%this._banners.length]:{}},enumerable:!1,configurable:!0}),e.prototype.rotate=function(){var t=this;setInterval((function(){return t.index++}),7e3)},e.prototype.onClick=function(){p["a"].instance.openAdvertisement(this.currentBanner)},Object(a["b"])([Object(o["b"])()],e.prototype,"banners",void 0),Object(a["b"])([Object(o["b"])()],e.prototype,"countryCode",void 0),Object(a["b"])([Object(o["b"])()],e.prototype,"categoryId",void 0),e=Object(a["b"])([Object(o["a"])({})],e),e}(l["default"]),L=B,U=L,$=Object(v["a"])(U,w,I,!1,null,null,null),A=$.exports,T=r("a51d"),N=r("3fdf"),q=r("20d6"),S=r("a153"),E=r("f873"),D=r("466c"),M=r("9f3a"),F=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.app=i["a"].instance,e.api=M["a"].instance,e.forum=new N["c"],e.category=new D["b"],e.total=0,e.totalNoOfPages=0,e.currentPage=1,e}return Object(a["c"])(e,t),e.prototype.mounted=function(){return Object(a["a"])(this,void 0,Promise,(function(){return Object(a["d"])(this,(function(t){return this.init(),this.initPostCount(),this.loadPosts(),this.initCategoryBanners(),[2]}))}))},e.prototype.init=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e,r;return Object(a["d"])(this,(function(s){switch(s.label){case 0:this.forum.limit=20,this.forum.categoryId=this.categoryId,t=this.$route.params.userIdx,t&&(this.forum.userIdx=parseInt(t)),this.forum.comments=1,this.$route.query.page?(this.currentPage=this.routePageNo,this.forum.page=this.currentPage):(this.currentPage=1,this.forum.page=1),this.subCategory&&(this.forum.subCategory=this.subCategory),s.label=1;case 1:return s.trys.push([1,3,,4]),e=this,[4,this.api.categoryGet(this.categoryId)];case 2:return e.category=s.sent(),[3,4];case 3:return r=s.sent(),this.app.error(r),[3,4];case 4:return[2]}}))}))},Object.defineProperty(e.prototype,"routePageNo",{get:function(){return this.$route.query.page?parseInt(this.$route.query.page):1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"categoryId",{get:function(){return this.post.idx?this.post.categoryId:this.$route.params.categoryId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"subCategory",{get:function(){return this.$route.query.sc},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"posts",{get:function(){return this.forum.posts},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"showBanners",{get:function(){var t;return null===(t=this.$store.state.advertisementSettings.categoryArray)||void 0===t?void 0:t.includes(this.categoryId)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createLink",{get:function(){return this.app.postCreateUrl({categoryId:this.categoryId,subCategory:this.subCategory,pageNo:this.currentPage})},enumerable:!1,configurable:!0}),e.prototype.pageLinkGenerator=function(t){return this.app.postListUrl({categoryId:this.categoryId,subCategory:this.subCategory,pageNo:t})},e.prototype.onPageChanged=function(t){this.forum.page=t,this.loadPosts()},e.prototype.initCategoryBanners=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t;return Object(a["d"])(this,(function(e){switch(e.label){case 0:if(!this.showBanners)return[3,5];e.label=1;case 1:return e.trys.push([1,4,,5]),[4,this.app.loadBanners("square")];case 2:return e.sent(),[4,this.app.loadBanners("line")];case 3:return e.sent(),[3,5];case 4:return t=e.sent(),console.log("initCategoryBanners",t),[3,5];case 5:return[2]}}))}))},e.prototype.initPostCount=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e;return Object(a["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),t=this,[4,this.app.api.postCount(this.forum.searchOptions)];case 1:return t.total=r.sent(),this.totalNoOfPages=Math.ceil(this.total/this.forum.limit),[3,3];case 2:return e=r.sent(),e==q["b"].category_not_exists?console.log("@ignore category not exists error on counting no of posts."):this.app.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.onQueryChange=function(){this.forum.subCategory=this.subCategory,this.initPostCount(),this.loadPosts()},e.prototype.loadPosts=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e;return Object(a["d"])(this,(function(r){switch(r.label){case 0:if(this.forum.canLoad)return[2];this.forum.loading=!0,r.label=1;case 1:return r.trys.push([1,3,,4]),t=this.forum,[4,this.app.api.latestPosts(this.forum.searchOptions)];case 2:return t.posts=r.sent(),[3,4];case 3:return e=r.sent(),this.app.error(e),[3,4];case 4:return this.forum.endLoad(),[2]}}))}))},e.prototype.viewUrl=function(t){return(t.relativeUrl||"/"+t.idx)+location.search},e.prototype.subcategoryUrl=function(t){return this.app.postListUrl({categoryId:this.categoryId,subCategory:t,pageNo:this.currentPage})},Object(a["b"])([Object(o["b"])({default:function(){return new N["d"]}})],e.prototype,"post",void 0),Object(a["b"])([Object(o["d"])("$route.query.sc")],e.prototype,"onQueryChange",null),e=Object(a["b"])([Object(o["a"])({components:{AdvertisementSquareBannerList:k,AdvertisementLineBanner:A,PushNotificationIcon:T["a"],ForumUserAvatar:S["a"],UserMenu:E["a"]}})],e),e}(o["c"]),G=F,J=G,Q=(r("c289"),Object(v["a"])(J,s,n,!1,null,null,null));e["default"]=Q.exports},c289:function(t,e,r){"use strict";r("0e25")},df2c:function(t,e,r){"use strict";r("b4bc")},f873:function(t,e,r){"use strict";var s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"user-menu"},[0==t.user.verified?r("div",{staticClass:"not-verified"},[t._v("미인증 회원")]):t._e(),r("div",[t._v(t._s(t.user.displayName))]),t.user.verified?r("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t.user.name))]):t._e(),t.user.verified?r("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t.user.age)+"세 / "+t._s(t._f("t")(t.user.gender)))]):t._e(),r("div",{},[t._v("Lv. "+t._s(t.user.level))]),r("hr"),r("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/"+t.user.idx}},[t._v(t._s(t._f("t")("see_profile")))]),r("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/posts/"+t.user.idx}},[t._v(t._s(t._f("t")("see_posts")))]),r("router-link",{staticClass:"d-block text-left",attrs:{to:"/user/comments/"+t.user.idx}},[t._v(t._s(t._f("t")("see_comments")))]),r("router-link",{staticClass:"d-block text-left",attrs:{to:"/chat-message?uid="+t.user.firebaseUid}},[t._v(t._s(t._f("t")("chat")))])],1)},n=[],a=r("9ab4"),i=r("2b0e"),o=r("2fe1"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["c"])(e,t),e=Object(a["b"])([Object(o["b"])({props:["user"]})],e),e}(i["default"]),u=c,l=u,p=(r("8e29"),r("2877")),b=Object(p["a"])(l,s,n,!1,null,"3f8289b3",null);e["a"]=b.exports}}]);
//# sourceMappingURL=chunk-6008255e.e71a7412.js.map