{"version":3,"sources":["webpack:///./src/views/chat/ChatUserRoomList.vue?98c1","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?f7ec","webpack:///./src/x-vue/components/chat/ChatRoomList.vue","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?1f64","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?17be","webpack:///./src/views/chat/ChatUserRoomList.vue","webpack:///./src/views/chat/ChatUserRoomList.vue?0074","webpack:///./src/views/chat/ChatUserRoomList.vue?1590"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","directives","name","rawName","value","expression","staticClass","domProps","on","$event","target","composing","idxOrEmail","preventDefault","onBeginChat","apply","arguments","onSameRoomChat","staticRenderFns","_l","roomsList","room","key","id","attrs","path","query","otherUserPhotoUrl","_s","getTitle","otherUserDisplayName","newMessages","_e","senderUid","loginUserUid","senderDisplayName","text","instance","ChatRoomList","component","app","chat","mounted","console","log","Promise","otherUserProfile","user","firebaseUid","$router","push","uid","hatch","error","user_has_no_firebase_uid","components"],"mappings":"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","file":"js/chunk-2d0aeb1c.ad9c87fc.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"My Chats\")]),_c('div',[_vm._v(\"Input user Idx or email to begin chat.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.idxOrEmail),expression:\"idxOrEmail\"}],staticClass:\"mb-2\",domProps:{\"value\":(_vm.idxOrEmail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.idxOrEmail=$event.target.value}}}),_c('div',[_c('button',{staticClass:\"btn btn-sm btn-primary mr-3\",on:{\"click\":function($event){$event.preventDefault();return _vm.onBeginChat.apply(null, arguments)}}},[_vm._v(\"Begin chat\")]),_c('button',{staticClass:\"btn btn-sm btn-secondary\",on:{\"click\":function($event){$event.preventDefault();return _vm.onSameRoomChat.apply(null, arguments)}}},[_vm._v(\"Same Room chat\")])]),_c('hr'),_c('h1',[_vm._v(\"Chat Room list\")]),_c('ChatRoomList'),_c('hr')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',_vm._l((_vm.roomsList.rooms),function(room){return _c('router-link',{key:room.id,staticClass:\"d-flex align-items-center\",attrs:{\"to\":{ path: 'chat-message', query: { id: room.id } }}},[_c('b-avatar',{staticClass:\"avatar mr-2 mb-2\",attrs:{\"src\":room.otherUserPhotoUrl}}),_c('div',[_c('div',{staticClass:\"bold\"},[_vm._v(\" \"+_vm._s(room.getTitle || room.otherUserDisplayName)+\" \"),(room.newMessages)?_c('span',[_vm._v(\"(\"+_vm._s(room.newMessages)+\")\")]):_vm._e()]),_c('div',[_vm._v(\" \"+_vm._s(room.senderUid == _vm.roomsList.loginUserUid ? \"You: \" : room.senderDisplayName + \": \")+_vm._s(_vm.roomsList.text(room))+\" \")])])],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ChatUserRoomListService } from \"@/x-vue/services/chat/chat.user_room_list.service\";\nimport { Vue, Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ChatRoomList extends Vue {\n  roomsList = ChatUserRoomListService.instance;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatRoomList.vue?vue&type=template&id=715d766b&\"\nimport script from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\r\nimport Vue from \"vue\";\r\nimport { Component } from \"vue-property-decorator\";\r\nimport { ChatService } from \"@/x-vue/services/chat/chat.service\";\r\nimport { ApiService } from \"@/x-vue/services/api.service\";\r\nimport { AppService } from \"@/service/app.service\";\r\n\r\nimport ChatRoomList from \"@/x-vue/components/chat/ChatRoomList.vue\";\r\nimport { Err } from \"@/x-vue/services/defines\";\r\n\r\n@Component({\r\n  components: {\r\n    ChatRoomList,\r\n  },\r\n})\r\nexport default class extends Vue {\r\n  app = AppService.instance;\r\n  chat = ChatService.instance;\r\n  idxOrEmail = \"\";\r\n\r\n  mounted(): void {\r\n    console.log(\"chat; \", this.chat);\r\n  }\r\n\r\n  async onBeginChat(): Promise<void> {\r\n    console.log(\"idxOrEmail; \", this.idxOrEmail);\r\n    try {\r\n      const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\r\n      console.log(\"user; \", user);\r\n      if (!user.firebaseUid) {\r\n        return this.app.error(Err.user_has_no_firebase_uid);\r\n      }\r\n      this.$router.push({ path: \"chat-message\", query: { uid: user.firebaseUid, hatch: \"true\" } });\r\n    } catch (e) {\r\n      this.app.error(e);\r\n    }\r\n  }\r\n\r\n  async onSameRoomChat(): Promise<void> {\r\n    console.log(\"idxOrEmail; \", this.idxOrEmail);\r\n    try {\r\n      const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\r\n      console.log(\"user; \", user);\r\n      if (!user.firebaseUid) {\r\n        return this.app.error(Err.user_has_no_firebase_uid);\r\n      }\r\n      this.$router.push({ path: \"chat-message\", query: { uid: user.firebaseUid } });\r\n    } catch (e) {\r\n      this.app.error(e);\r\n    }\r\n  }\r\n}\r\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatUserRoomList.vue?vue&type=template&id=4a273a5f&\"\nimport script from \"./ChatUserRoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatUserRoomList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}