{"version":3,"sources":["webpack:///./src/views/chat/ChatUserRoomListView.vue?47bd","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?4414","webpack:///./src/x-vue/components/chat/ChatRoomList.vue","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?1f64","webpack:///./src/x-vue/components/chat/ChatRoomList.vue?17be","webpack:///./src/views/chat/ChatUserRoomListView.vue","webpack:///./src/views/chat/ChatUserRoomListView.vue?2f4c","webpack:///./src/views/chat/ChatUserRoomListView.vue?d661"],"names":["render","_vm","this","_h","$createElement","_c","_self","_v","directives","name","rawName","value","expression","staticClass","domProps","on","$event","target","composing","idxOrEmail","preventDefault","onSameRoomChat","apply","arguments","staticRenderFns","_l","roomsList","room","key","id","attrs","path","query","roomId","otherUserPhotoUrl","_s","getTitle","otherUserDisplayName","newMessages","_e","senderUid","loginUserUid","senderDisplayName","text","instance","ChatRoomList","component","app","chat","mounted","console","log","Promise","otherUserProfile","user","firebaseUid","$router","push","error","user_has_no_firebase_uid","components"],"mappings":"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","file":"js/chunk-2d0c914a.baa7088e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('h1',[_vm._v(\"My Chats\")]),_c('div',[_vm._v(\"Input user Idx or email to begin chat.\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.idxOrEmail),expression:\"idxOrEmail\"}],staticClass:\"mb-2\",domProps:{\"value\":(_vm.idxOrEmail)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.idxOrEmail=$event.target.value}}}),_c('div',[_c('button',{staticClass:\"btn btn-sm btn-secondary\",on:{\"click\":function($event){$event.preventDefault();return _vm.onSameRoomChat.apply(null, arguments)}}},[_vm._v(\"Begin Chat\")])]),_c('hr'),_c('h1',[_vm._v(\"Chat Room list\")]),_c('ChatRoomList'),_c('hr')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',_vm._l((_vm.roomsList.rooms),function(room){return _c('router-link',{key:room.id,staticClass:\"d-flex align-items-center\",attrs:{\"to\":{ path: 'chat-message', query: { roomId: room.id } }}},[_c('b-avatar',{staticClass:\"avatar mr-2 mb-2\",attrs:{\"src\":room.otherUserPhotoUrl}}),_c('div',[_c('div',{staticClass:\"bold\"},[_vm._v(\" \"+_vm._s(room.getTitle || room.otherUserDisplayName)+\" \"),(room.newMessages)?_c('span',[_vm._v(\"(\"+_vm._s(room.newMessages)+\")\")]):_vm._e()]),_c('div',[_vm._v(\" \"+_vm._s(room.senderUid == _vm.roomsList.loginUserUid ? \"You: \" : room.senderDisplayName + \": \")+_vm._s(_vm.roomsList.text(room))+\" \")])])],1)}),1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ChatUserRoomListService } from \"@/x-vue/services/chat/chat.user_room_list.service\";\nimport { Vue, Component } from \"vue-property-decorator\";\n\n@Component({})\nexport default class ChatRoomList extends Vue {\n  roomsList = ChatUserRoomListService.instance;\n}\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatRoomList.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatRoomList.vue?vue&type=template&id=0845af26&\"\nimport script from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatRoomList.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport Vue from \"vue\";\nimport { Component } from \"vue-property-decorator\";\nimport { ChatService } from \"@/x-vue/services/chat/chat.service\";\nimport { ApiService } from \"@/x-vue/services/api.service\";\nimport { AppService } from \"@/service/app.service\";\n\nimport ChatRoomList from \"@/x-vue/components/chat/ChatRoomList.vue\";\nimport { Err } from \"@/x-vue/services/defines\";\n\n@Component({\n  components: {\n    ChatRoomList,\n  },\n})\nexport default class extends Vue {\n  app = AppService.instance;\n  chat = ChatService.instance;\n  idxOrEmail = \"\";\n\n  mounted(): void {\n    console.log(\"chat; \", this.chat);\n  }\n\n  // async onBeginChat(): Promise<void> {\n  //   console.log(\"idxOrEmail; \", this.idxOrEmail);\n  //   try {\n  //     const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\n  //     console.log(\"user; \", user);\n  //     if (!user.firebaseUid) {\n  //       return this.app.error(Err.user_has_no_firebase_uid);\n  //     }\n  //     this.$router.push({ path: \"chat-message\", query: { uid: user.firebaseUid, hatch: \"true\" } });\n  //   } catch (e) {\n  //     this.app.error(e);\n  //   }\n  // }\n\n  async onSameRoomChat(): Promise<void> {\n    console.log(\"idxOrEmail; \", this.idxOrEmail);\n    try {\n      const user = await ApiService.instance.otherUserProfile(this.idxOrEmail);\n      console.log(\"user; \", user);\n      if (!user.firebaseUid) {\n        return this.app.error(Err.user_has_no_firebase_uid);\n      }\n      this.$router.push({ path: \"chat-message\", query: { firebaseUid: user.firebaseUid } });\n    } catch (e) {\n      this.app.error(e);\n    }\n  }\n}\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomListView.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/ts-loader/index.js??ref--14-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ChatUserRoomListView.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./ChatUserRoomListView.vue?vue&type=template&id=01357d60&\"\nimport script from \"./ChatUserRoomListView.vue?vue&type=script&lang=ts&\"\nexport * from \"./ChatUserRoomListView.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}