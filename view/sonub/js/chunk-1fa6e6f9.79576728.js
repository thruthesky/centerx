(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fa6e6f9"],{"0ca9":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"text-center my-2",class:["text-"+t.variant]},[s("b-spinner",{staticClass:"align-middle mr-2"}),s("strong",[t._v(t._s("loading..."))])],1)},o=[],n=s("9ab4"),i=s("1b40"),a=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["c"])(e,t),Object(n["b"])([Object(i["b"])({default:"success"})],e.prototype,"variant",void 0),e=Object(n["b"])([Object(i["a"])({})],e),e}(i["c"]),c=a,l=c,u=s("2877"),p=Object(u["a"])(l,r,o,!1,null,null,null);e["a"]=p.exports},"11c8":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("svg",{attrs:{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512"}},[s("path",{attrs:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"}})])},o=[],n=s("2877"),i={},a=Object(n["a"])(i,r,o,!1,null,null,null);e["a"]=a.exports},"450c":function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"pr-2 position-relative overflow-hidden pointer"},[s("camera-svg",{staticClass:"pointer",style:{width:t.defaultSize+"px",height:t.defaultSize+"px"}}),s("input",{staticClass:"h-100 top right position-absolute fs-lg opacity-0 pointer",attrs:{type:"file"},on:{change:t.onFileChange}})],1)},o=[],n=(s("d3b7"),s("9ab4")),i=s("2b0e"),a=s("2fe1"),c=s("9f3a"),l=s("190e"),u=s("11c8"),p=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.defaultSize=35,e.api=c["a"].instance,e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.size&&(this.defaultSize=this.size)},e.prototype.onFileChange=function(t){var e,s;return Object(n["a"])(this,void 0,Promise,(function(){var r,o,i;return Object(n["d"])(this,(function(n){switch(n.label){case 0:if(!this.api.user.loggedIn)return l["b"].instance.error("error_login_first"),[2];if(null===t.target.files||0===(null===(s=null===(e=t.target)||void 0===e?void 0:e.files)||void 0===s?void 0:s.length))return[2];r=t.target.files[0],n.label=1;case 1:return n.trys.push([1,3,,4]),[4,this.api.fileUpload(r,{},this.onProgress)];case 2:return o=n.sent(),this.$emit("success",o),[3,4];case 3:return i=n.sent(),l["b"].instance.error(i),[3,4];case 4:return[2]}}))}))},e.prototype.onProgress=function(t){console.log(t),this.$emit("progress",t)},e=Object(n["b"])([Object(a["b"])({props:["size"],components:{CameraSvg:u["a"]}})],e),e}(i["default"]),h=p,d=h,b=s("2877"),m=Object(b["a"])(d,r,o,!1,null,null,null);e["a"]=m.exports},"4f41":function(t,e,s){},6674:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.api._user.notLoggedIn?s("div",{staticClass:"p-2 text-center rounded bg-secondary"},[s("h3",[t._v("Login First")])]):t._e()},o=[],n=s("9ab4"),i=s("9f3a"),a=s("2b0e"),c=s("2fe1"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.api=i["a"].instance,e}return Object(n["c"])(e,t),e=Object(n["b"])([Object(c["b"])({})],e),e}(a["default"]),u=l,p=u,h=s("2877"),d=Object(h["a"])(p,r,o,!1,null,null,null);e["a"]=d.exports},a51d:function(t,e,s){"use strict";var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"push-notification-icon"},[s("b-form-checkbox",{attrs:{name:"check-button",switch:""},on:{change:t.onChangeSubscribeOrUnsubscribeTopic},model:{value:t.data[t.postTopic],callback:function(e){t.$set(t.data,t.postTopic,e)},expression:"data[postTopic]"}},[s("span",[t._v(t._s(t._f("t")(t.title)))])])],1)},o=[],n=(s("d3b7"),s("9ab4")),i=s("9f3a"),a=s("190e"),c=s("1b40"),l=function(t){function e(){var e,s=null!==t&&t.apply(this,arguments)||this;return s.data=(e={},e[s.postTopic]=!1,e),s}return Object(n["c"])(e,t),Object.defineProperty(e.prototype,"postTopic",{get:function(){return this.rawTopic.length?this.rawTopic:"notifyPost_"+this.topic},enumerable:!1,configurable:!0}),e.prototype.mounted=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e;return Object(n["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,i["a"].instance.isSubscribedToTopic(this.postTopic,this.subscribedByDefault)];case 1:return t=s.sent(),this.data[this.postTopic]="Y"===t[this.postTopic],[3,3];case 2:return e=s.sent(),a["b"].instance.error(e),[3,3];case 3:return[2]}}))}))},e.prototype.onChangeSubscribeOrUnsubscribeTopic=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t;return Object(n["d"])(this,(function(e){switch(e.label){case 0:if(!i["a"].instance.user.loggedIn)return this.data[this.postTopic]=!1,a["b"].instance.error("error_login_first"),[2];e.label=1;case 1:return e.trys.push([1,3,,4]),[4,i["a"].instance.topicSubscription({topic:this.postTopic,subscribe:this.data[this.postTopic]?"Y":"N"})];case 2:return e.sent(),[3,4];case 3:return t=e.sent(),a["b"].instance.error(t),[3,4];case 4:return[2]}}))}))},Object(n["b"])([Object(c["b"])({default:"defaultTopic"})],e.prototype,"topic",void 0),Object(n["b"])([Object(c["b"])({default:""})],e.prototype,"rawTopic",void 0),Object(n["b"])([Object(c["b"])({default:""})],e.prototype,"title",void 0),Object(n["b"])([Object(c["b"])({default:!1})],e.prototype,"subscribedByDefault",void 0),e=Object(n["b"])([Object(c["a"])({})],e),e}(c["c"]),u=l,p=u,h=s("2877"),d=Object(h["a"])(p,r,o,!1,null,null,null);e["a"]=d.exports},ac1f7:function(t,e,s){},be66:function(t,e,s){"use strict";s("4f41")},c917:function(t,e,s){"use strict";s("ac1f7")},ea1c:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",[!t.loading&&t.room.id?s("ChatRoom"):t._e(),!t.loading&&t.$store.state.user.loggedIn?s("LoginFirst"):t._e(),t.loading?s("Loading",{attrs:{variant:"primary"}}):t._e(),s("div",[t._v(t._s(t.otherUserProfile.photoUrl))]),s("div",[t._v(t._s(t.$app.api.user.photoUrl))]),s("div",[t._v(t._s(t.$store.state.user.photoUrl))])],1)},o=[],n=(s("d3b7"),s("ac1f"),s("1276"),s("b64b"),s("9ab4")),i=s("2b0e"),a=s("1b40"),c=s("e982"),l=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"chat-message d-flex flex-column"},[s("ChatRoomHeader"),s("ChatRoomMessageList"),s("ChatRoomBottomActions")],1)},u=[],p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"chat-room-header"},[s("div",{staticClass:"d-flex justify-content-between mb-2"},[s("div",{staticClass:"user-avatar d-flex align-items-center text-nowrap"},[s("UserAvatar",{staticClass:"mr-2",attrs:{user:t.otherUser}}),s("div",[t.room.getTitle?s("div",[t._v(t._s(t.room.getTitle))]):t.otherUser.idx?s("div",[t._v("("+t._s(t.otherUser.idx)+") "+t._s(t.otherUser.nicknameOrName))]):t._e()])],1),s("div",{staticClass:"chat-options d-flex align-items-center"},[s("PushNotificationIcon",{attrs:{rawTopic:t.room.topic,subscribedByDefault:!0}}),s("button",{staticClass:"btn btn-sm py-2",attrs:{id:"chat-options-popover-"+t.room.global.roomId}},[s("font-awesome-icon",{attrs:{icon:["fas","cog"],size:"lg"}})],1),s("router-link",{staticClass:"btn btn-sm py-2 pointer",attrs:{to:"/chat"}},[s("font-awesome-icon",{attrs:{icon:["fas","times"],size:"lg"}})],1),s("b-popover",{ref:"popover",attrs:{placement:"bottomleft",target:"chat-options-popover-"+t.room.global.roomId,triggers:"click blur"}},[s("div",{staticClass:"p-2 pointer",on:{click:t.changeRoomTitle}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","edit"]}}),t._v(" "+t._s(t._f("t")("edit_room_title"))+" ")],1),s("router-link",{staticClass:"p-2 pointer",attrs:{to:"/chat"}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","list"]}}),t._v(" "+t._s(t._f("t")("goto_room_list"))+" ")],1),s("div",{staticClass:"p-2 pointer",on:{click:t.leaveRoom}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","sign-out-alt"]}}),t._v(" "+t._s(t._f("t")("leave_room"))+" ")],1)],1)],1)])])},h=[],d=s("466c"),b=s("9f3a"),m=s("190e"),f=s("5803"),g=s("a51d"),v=s("d661"),_=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.room=c["a"].instance,e.otherUser=new d["g"],e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.loadOtherUser()},e.prototype.loadOtherUser=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e,s;return Object(n["d"])(this,(function(r){switch(r.label){case 0:if(!c["a"].instance.global.otherUserId)return[2];t=c["a"].instance.global.otherUserId,r.label=1;case 1:return r.trys.push([1,3,,4]),e=this,[4,b["a"].instance.otherUserProfile(t)];case 2:return e.otherUser=r.sent(),[3,4];case 3:return s=r.sent(),m["b"].instance.error(s),[3,4];case 4:return[2]}}))}))},e.prototype.changeRoomTitle=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t=this;return Object(n["d"])(this,(function(e){return m["b"].instance.promptToast({title:Object(v["g"])("change_room_title"),message:this.room.getTitle,placement:m["a"].TOP_CENTER,okCallback:function(e){return Object(n["a"])(t,void 0,Promise,(function(){var t;return Object(n["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,2,,3]),[4,this.room.updateTitle(e)];case 1:return s.sent(),[3,3];case 2:return t=s.sent(),m["b"].instance.error(t),[3,3];case 3:return[2]}}))}))}}),[2]}))}))},e.prototype.leaveRoom=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e;return Object(n["d"])(this,(function(s){switch(s.label){case 0:return s.trys.push([0,3,,4]),[4,m["b"].instance.confirm(Object(v["g"])("chat_room_delete"),Object(v["g"])("chat_room_delete_confirmation"))];case 1:return t=s.sent(),!1===t?[2]:[4,this.room.leave()];case 2:return s.sent(),this.$router.push("/chat"),[3,4];case 3:return e=s.sent(),m["b"].instance.error(e),[3,4];case 4:return[2]}}))}))},e=Object(n["b"])([Object(a["a"])({components:{UserAvatar:f["a"],PushNotificationIcon:g["a"]}})],e),e}(a["c"]),O=_,y=O,j=s("2877"),U=Object(j["a"])(y,p,h,!1,null,null,null),w=U.exports,x=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"d-flex flex-column overflow-auto flex-grow-1 mb-2",attrs:{id:t.room.messageListId},on:{scroll:function(e){return t.room.scrollEventHandler()}}},[s("div",{staticClass:"flex-grow-1"}),t._l(t.room.messages,(function(e){return s("div",{key:e.id,staticClass:"chat-bubble mb-1 rounded-lg my-1 p-2 text-break white",class:e.isMine?"text-right my-chat ml-auto":"text-left other-chat mr-auto",attrs:{id:"chat-message-popover-"+e.id}},[e.canEdit&&e.isMine?s("b-popover",{ref:"popover",refInFor:!0,attrs:{placement:"left",target:"chat-message-popover-"+e.id,triggers:"hover focus"}},[e.isImage||e.isMovie?t._e():s("div",{staticClass:"pointer",on:{click:function(s){return t.room.editMessage(e)}}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","edit"]}}),t._v(" "+t._s(t._f("t")("edit"))+" ")],1),s("div",{staticClass:"pointer",on:{click:function(s){return t.onDeleteMessage(e)}}},[s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","trash"]}}),t._v(" "+t._s(t._f("t")("delete"))+" ")],1)]):t._e(),(e.isMine,s("div",[e.isImage?s("div",[e.rendered?t._e():s("b-spinner"),s("b-img",{attrs:{src:e.text,fluid:"",alt:e.text},on:{load:function(s){return t.room.onImageLoadComplete(e)},click:function(s){return s.preventDefault(),t.showImagePreview(e)}}})],1):e.isMovie?s("div",[s("video",{attrs:{width:"320",height:"240",controls:""}},[s("source",{attrs:{src:e.text}}),t._v(" Your browser does not support the video tag. ")])]):e.isFile?s("div",[s("a",{staticClass:"white",attrs:{href:e.text,download:""}},[t._v(t._s(e.text)+" "),s("font-awesome-icon",{staticClass:"mr-2",attrs:{icon:["fas","download"]}})],1)]):s("div",[t._v(t._s(t.room.text(e,!0)))])]))],1)})),s("b-modal",{attrs:{id:"file-preview-modal","hide-footer":""},scopedSlots:t._u([{key:"modal-title",fn:function(){return[t._v(t._s(t.fileImagePreviewUrl))]},proxy:!0}])},[s("div",[s("b-img",{attrs:{src:t.fileImagePreviewUrl,fluid:"",alt:t.fileImagePreviewUrl}})],1),s("b-button",{staticClass:"mt-3",attrs:{block:""},on:{click:function(e){return t.$bvModal.hide("file-preview-modal")}}},[t._v("Close")])],1)],2)},C=[],I=s("a6e8"),k=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.room=c["a"].instance,e.fileImagePreviewUrl="",e.chatRoomSubscription=new I["a"],e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.chatRoomSubscription=c["a"].instance.changes.subscribe((function(){(c["a"].instance.atBottom||1==c["a"].instance.page)&&(console.log("scroll to bottom",c["a"].instance.atBottom,1==c["a"].instance.page),c["a"].instance.scrollToBottom())}))},e.prototype.destroyed=function(){console.log("ChatMessageListScreen::destroyed()"),c["a"].instance.unsubscribe(),this.chatRoomSubscription.unsubscribe()},e.prototype.showImagePreview=function(t){this.fileImagePreviewUrl=""+t.extra.url,this.$bvModal.show("file-preview-modal")},e.prototype.onDeleteMessage=function(t){return Object(n["a"])(this,void 0,Promise,(function(){var e,s;return Object(n["d"])(this,(function(r){switch(r.label){case 0:return r.trys.push([0,3,,4]),[4,m["b"].instance.confirm(Object(v["g"])("chat_message_delete"),Object(v["g"])("chat_message_delete_confirmation"))];case 1:return e=r.sent(),!1===e?[2]:[4,this.room.deleteMessage(t)];case 2:return r.sent(),(t.isMovie||t.isImage)&&b["a"].instance.fileDelete(t.extra.idx),[3,4];case 3:return s=r.sent(),m["b"].instance.error(s),[3,4];case 4:return[2]}}))}))},e=Object(n["b"])([Object(a["a"])({components:{}})],e),e}(a["c"]),P=k,T=P,$=(s("be66"),Object(j["a"])(T,x,C,!1,null,"079233c6",null)),M=$.exports,N=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("section",{staticClass:"chat-room-bottom-actions"},[t.progress&&100!=t.progress?s("b-progress",{staticClass:"mb-3 ml-2 mr-2",attrs:{value:t.progress,max:"100"}}):t._e(),s("div",{staticClass:"d-flex"},[s("div",[s("UploadButton",{on:{success:t.onSuccess,progress:function(e){t.progress=e}}})],1),s("div",{staticClass:"w-100 position-relative"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.room.textInput,expression:"room.textInput"}],ref:"testInput",staticClass:"w-100 py-1",attrs:{type:"text"},domProps:{value:t.room.textInput},on:{keypress:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sendMessage.apply(null,arguments)},input:function(e){e.target.composing||t.$set(t.room,"textInput",e.target.value)}}}),t.room.isMessageEdit?s("div",{staticClass:"red position-absolute top right py-1 px-2",on:{click:function(e){return t.room.cancelEdit()}}},[s("font-awesome-icon",{attrs:{icon:["fas","times"]}})],1):t._e()]),s("button",{staticClass:"btn btn-sm btn-primary ml-2 px-5",on:{click:t.sendMessage}},[t._v(t._s(t._f("t")("Send")))])])],1)},R=[],E=(s("498a"),s("450c")),S=s("1821"),z=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.room=c["a"].instance,e.sending=!1,e.progress=0,e}return Object(n["c"])(e,t),e.prototype.sendMessage=function(){var t;return Object(n["a"])(this,void 0,Promise,(function(){var e,s,r;return Object(n["d"])(this,(function(o){switch(o.label){case 0:if(0==this.room.textInput.trim().length||this.sending)return[2];this.sending=!0,e=this.room.textInput,this.room.textInput="",o.label=1;case 1:return o.trys.push([1,3,,4]),s=this.room.isMessageEdit,[4,this.room.sendMessage({text:e,displayName:b["a"].instance.user.nicknameOrName})];case 2:return o.sent(),this.sending=!1,null===(t=this.$refs.testInput)||void 0===t||t.focus(),null==s&&b["a"].instance.sendMessageToUsers({users:this.room.otherUserId,subscription:this.room.topic,title:b["a"].instance.user.nicknameOrName+" "+Object(v["g"])("sent_a_message"),body:e,click_action:"chat-message?roomId="+this.room.id,data:{type:"chat",roomId:this.room.id}}),[3,4];case 3:return r=o.sent(),m["b"].instance.error(r),this.sending=!1,[3,4];case 4:return[2]}}))}))},e.prototype.onSuccess=function(t){var e;return Object(n["a"])(this,void 0,Promise,(function(){var s;return Object(n["d"])(this,(function(r){switch(r.label){case 0:console.log("onSuccess::",t),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.room.sendMessage({text:Object(S["a"])(t.url)?t.thumbnailUrl:t.url,displayName:b["a"].instance.user.nicknameOrName,extra:{url:t.url,idx:t.idx}})];case 2:return r.sent(),this.sending=!1,b["a"].instance.sendMessageToUsers({users:this.room.otherUserId,subscription:this.room.topic,title:b["a"].instance.user.nicknameOrName+" "+Object(v["g"])("sent_a_message"),body:Object(v["g"])("sent_a_file"),click_action:"chat-message?roomId="+this.room.id,data:{type:"chat",roomId:this.room.id}}),null===(e=this.$refs.testInput)||void 0===e||e.focus(),[3,4];case 3:return s=r.sent(),m["b"].instance.error(s),this.sending=!1,[3,4];case 4:return[2]}}))}))},e=Object(n["b"])([Object(a["a"])({components:{UploadButton:E["a"]}})],e),e}(a["c"]),L=z,B=L,D=Object(j["a"])(B,N,R,!1,null,null,null),F=D.exports,q=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(n["c"])(e,t),e=Object(n["b"])([Object(a["a"])({components:{ChatRoomHeader:w,ChatRoomMessageList:M,ChatRoomBottomActions:F}})],e),e}(a["c"]),A=q,H=A,Y=(s("c917"),Object(j["a"])(H,l,u,!1,null,"4d08d434",null)),J=Y.exports,G=s("d68b"),V=s("0613"),K=s("6674"),Q=s("0ca9"),W=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.room=c["a"].instance,e.otherUserProfile=new d["g"],e.loading=!1,e}return Object(n["c"])(e,t),e.prototype.mounted=function(){this.enter()},e.prototype.watchRoute=function(){this.room.unsubscribe(),this.enter()},e.prototype.watchUid=function(){this.room.unsubscribe(),this.enter()},e.prototype.enter=function(){return Object(n["a"])(this,void 0,Promise,(function(){var t,e,s,r,o,i,a,c;return Object(n["d"])(this,(function(n){switch(n.label){case 0:if(this.loading=!0,t={displayName:G["a"].instance.user.displayName},null!=this.$route.query.roomId)t.id=""+this.$route.query.roomId;else{if(!this.$route.query.firebaseUid)return[2,G["a"].instance.alert("Missing params","missing roomId or firebaseUid")];t.users=this.$route.query.firebaseUid.split(",")}n.label=1;case 1:return n.trys.push([1,5,,6]),[4,this.room.enter(t)];case 2:return n.sent(),this.loading=!1,this.room.global.otherUserId?(e=this,[4,b["a"].instance.otherUserProfile(this.room.global.otherUserId)]):[3,4];case 3:e.otherUserProfile=n.sent(),s=b["a"].instance.user,console.log("enter::otherUserProfile::",this.otherUserProfile),console.log("enter::userProfile::",s),console.log("enter::store.state.user::",V["a"].state.user),r={},this.room.global.usersInfo?(o=this.room.global.usersInfo[this.otherUserProfile.firebaseUid],o&&o.displayName==this.otherUserProfile.nicknameOrName&&o.photoUrl==this.otherUserProfile.photoUrl||(r[this.otherUserProfile.firebaseUid]={photoUrl:this.otherUserProfile.photoUrl,displayName:this.otherUserProfile.nicknameOrName}),i=this.room.global.usersInfo[this.room.loginUserUid],i&&i.displayName==V["a"].state.user.nicknameOrName&&i.photoUrl==V["a"].state.user.photoUrl||(r[this.room.loginUserUid]={photoUrl:V["a"].state.user.photoUrl,displayName:V["a"].state.user.nicknameOrName})):(c={},c[this.otherUserProfile.firebaseUid]={photoUrl:this.otherUserProfile.photoUrl,displayName:this.otherUserProfile.nicknameOrName},c[this.room.loginUserUid]={photoUrl:V["a"].state.user.photoUrl,displayName:V["a"].state.user.nicknameOrName},r=c),console.log("usersInfo::",Object.keys(r).length,r),Object.keys(r).length&&this.room.updateGlobalRoomUsersInfo(r),n.label=4;case 4:return[3,6];case 5:return a=n.sent(),this.$app.error(a),[3,6];case 6:return[2]}}))}))},Object(n["b"])([Object(a["d"])("$route.query.roomId")],e.prototype,"watchRoute",null),Object(n["b"])([Object(a["d"])("$route.query.firebaseUid")],e.prototype,"watchUid",null),e=Object(n["b"])([Object(a["a"])({components:{ChatRoom:J,LoginFirst:K["a"],Loading:Q["a"]}})],e),e}(i["default"]),X=W,Z=X,tt=Object(j["a"])(Z,r,o,!1,null,null,null);e["default"]=tt.exports}}]);
//# sourceMappingURL=chunk-1fa6e6f9.79576728.js.map