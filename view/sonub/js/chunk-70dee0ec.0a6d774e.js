(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70dee0ec"],{"0ca9":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center my-2",class:["text-"+t.variant]},[n("b-spinner",{staticClass:"align-middle mr-2"}),n("strong",[t._v(t._s("loading..."))])],1)},i=[],a=n("9ab4"),s=n("1b40"),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Object(a["c"])(e,t),Object(a["b"])([Object(s["b"])({default:"success"})],e.prototype,"variant",void 0),e=Object(a["b"])([Object(s["a"])({})],e),e}(s["c"]),o=c,u=o,l=n("2877"),d=Object(l["a"])(u,r,i,!1,null,null,null);e["a"]=d.exports},"498a2":function(t,e,n){"use strict";var r=n("23e7"),i=n("58a8").trim,a=n("c8d2");r({target:"String",proto:!0,forced:a("trim")},{trim:function(){return i(this)}})},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,n){var r=n("1d80"),i=n("5899"),a="["+i+"]",s=RegExp("^"+a+a+"*"),c=RegExp(a+a+"*$"),o=function(t){return function(e){var n=String(r(e));return 1&t&&(n=n.replace(s,"")),2&t&&(n=n.replace(c,"")),n}};t.exports={start:o(1),end:o(2),trim:o(3)}},a9fb:function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("div",{staticClass:"d-flex justify-content-between mb-2"},[n("h4",[t._v(t._s(t._f("t")("category_list")))]),n("div",{staticClass:"btn btn-sm btn-info",on:{click:t.checkDefaultCategory}},[t._v("Check Default Category")])]),n("section",{staticClass:"w-100"},[n("admin-category-create")],1),n("section",{staticClass:"overflow-auto mb-3"},[n("b-table",{attrs:{small:"",striped:"",hover:"",items:t.categories,fields:t.visibleFields,busy:t.loading,bordered:!0,responsive:"true","head-variant":"dark"},scopedSlots:t._u([{key:"head()",fn:function(e){return[n("div",{staticClass:"text-nowrap"},[t._v(t._s(t._f("t")(e.label)))])]}},{key:"cell(idx)",fn:function(e){return[n("router-link",{attrs:{to:"/forum/"+e.item.idx}},[t._v(t._s(e.item.idx))])]}},{key:"cell(id)",fn:function(e){return[n("router-link",{attrs:{to:"/admin/category/edit/"+e.item.idx}},[t._v(t._s(e.item.id))])]}},{key:"cell(action)",fn:function(e){return[n("div",{staticClass:"btn btn-sm btn-outline-danger",on:{click:function(n){return t.onClickDelete(e.item)}}},[t._v("❌")])]}},{key:"table-busy",fn:function(){return[n("Loading",{attrs:{variant:"primary"}})]},proxy:!0}])})],1),n("div",{staticClass:"overflow-auto"},[n("b-pagination-nav",{attrs:{"link-gen":t.linkGen,"number-of-pages":t.noOfPages,"use-router":""},on:{change:t.onPageChanged},model:{value:t.currentPage,callback:function(e){t.currentPage=e},expression:"currentPage"}})],1)])},i=[],a=(n("4de4"),n("d3b7"),n("c740"),n("a434"),n("9ab4")),s=n("9f3a"),c=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("section",[n("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit()}}},[n("div",{staticClass:"d-flex"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.id,expression:"id"}],staticClass:"form-control mb-2",attrs:{type:"text",placeholder:t._f("t")("enter_category_id")},domProps:{value:t.id},on:{input:function(e){e.target.composing||(t.id=e.target.value)}}}),n("button",{staticClass:"btn btn-primary ml-3 mb-2 w-50",attrs:{type:"submit"}},[t._v(" "+t._s(t._f("t")("create"))+" ")])])])])},o=[],u=(n("a4d3"),n("e01a"),n("498a2"),n("2b0e")),l=n("2fe1"),d=n("190e"),f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.s=d["b"].instance,e.category={},e.api=s["a"].instance,e.id="",e.title="",e.description="",e}return Object(a["c"])(e,t),e.prototype.onSubmit=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e;return Object(a["d"])(this,(function(n){switch(n.label){case 0:if(!this.id.trim())return[2];n.label=1;case 1:return n.trys.push([1,3,,4]),t=this,[4,s["a"].instance.categoryCreate({id:this.id})];case 2:return t.category=n.sent(),console.log(this.category),this.s.open("/admin/category/edit/"+this.category.idx),[3,4];case 3:return e=n.sent(),"error_category_exists"==e?this.s.open("/admin/category/edit/"+this.id):this.s.error(e),[3,4];case 4:return[2]}}))}))},e=Object(a["b"])([Object(l["b"])({})],e),e}(u["default"]),b=f,h=b,p=n("2877"),g=Object(p["a"])(h,c,o,!1,null,null,null),m=g.exports,v=n("0ca9"),y=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.categories=[],e.s=d["b"].instance,e.limit=50,e.noOfPages=10,e.currentPage="1",e.total=0,e.fields=[{key:"idx",visible:!0},{key:"id",visible:!0},{key:"title",visible:!0},{key:"description",visible:!0},{key:"action",visible:!0,class:"text-center"}],e.loading=!1,e}return Object(a["c"])(e,t),Object.defineProperty(e.prototype,"visibleFields",{get:function(){return this.fields.filter((function(t){return t.visible}))},enumerable:!1,configurable:!0}),e.prototype.linkGen=function(t){return 1===t?"?":"?page="+t},e.prototype.onPageChanged=function(t){this.currentPage=""+t,this.onSubmitSearch()},e.prototype.mounted=function(){this.onSubmitSearch()},e.prototype.onSubmitSearch=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e,n;return Object(a["d"])(this,(function(r){switch(r.label){case 0:if(this.loading)return[2];this.loading=!0,r.label=1;case 1:return r.trys.push([1,4,,5]),t=this,[4,s["a"].instance.categorySearch({limit:this.limit,page:this.currentPage})];case 2:return t.categories=r.sent(),e=this,[4,s["a"].instance.categoryCount({})];case 3:return e.total=r.sent(),this.noOfPages=Math.ceil(this.total/this.limit),[3,5];case 4:return n=r.sent(),this.s.error(n),[3,5];case 5:return this.loading=!1,[2]}}))}))},e.prototype.onClickDelete=function(t){return Object(a["a"])(this,void 0,Promise,(function(){var e,n,r,i;return Object(a["d"])(this,(function(a){switch(a.label){case 0:return[4,d["b"].instance.confirm("Delete Category","Do you want to delete the category?")];case 1:if(e=a.sent(),!e)return[2];a.label=2;case 2:return a.trys.push([2,4,,5]),[4,s["a"].instance.categoryDelete({idx:t.idx})];case 3:return n=a.sent(),r=this.categories.findIndex((function(t){return t.idx==n.idx})),-1!=r&&this.categories.splice(r,1),[3,5];case 4:return i=a.sent(),this.s.error(i),[3,5];case 5:return[2]}}))}))},e.prototype.checkDefaultCategory=function(){return Object(a["a"])(this,void 0,Promise,(function(){var t,e,n,r,i;return Object(a["d"])(this,(function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,s["a"].instance.cafeInitDefautMenu()];case 1:for(r in t=a.sent(),e=0,n=0,t)r?e++:n++;return this.s.alert("Default Menus: ",e+" Okay Menus. "+n+" Error Menus"),this.onSubmitSearch(),[3,3];case 2:return i=a.sent(),this.s.error(i),[3,3];case 3:return[2]}}))}))},e=Object(a["b"])([Object(l["b"])({components:{AdminCategoryCreate:m,Loading:v["a"]}})],e),e}(u["default"]),x=y,_=x,k=Object(p["a"])(_,r,i,!1,null,null,null);e["default"]=k.exports},c8d2:function(t,e,n){var r=n("d039"),i=n("5899"),a="​᠎";t.exports=function(t){return r((function(){return!!i[t]()||a[t]()!=a||i[t].name!==t}))}}}]);
//# sourceMappingURL=chunk-70dee0ec.0a6d774e.js.map