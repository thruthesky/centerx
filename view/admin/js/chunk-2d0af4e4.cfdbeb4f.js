(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0af4e4"],{"0e81":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h2",[t._v("Advertisement")]),a("div",[a("b-tabs",{attrs:{"content-class":"mt-3"}},[a("b-tab",{attrs:{title:"Advertisement Settings",active:""}},[a("AdminAdvertisementSettings")],1),a("b-tab",{attrs:{title:"Advertisement List"}},[a("p",[t._v("@todo display advertisements of all user")])])],1)],1)])},s=[],r=a("d4ec"),i=a("262e"),o=a("2caf"),c=a("9ab4"),u=a("2b0e"),d=a("2fe1"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("Admin Advertisement Settings")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onSubmit.apply(null,arguments)}}},[a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"maximum-advertisement-days"}},[t._v("Maximum Advertisement Days")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.maximumAdvertisementDays,expression:"maximumAdvertisementDays"}],staticClass:"form-control",attrs:{type:"number",id:"maximum-advertisement-days"},domProps:{value:t.maximumAdvertisementDays},on:{input:function(e){e.target.composing||(t.maximumAdvertisementDays=e.target.value)}}}),a("small",{staticClass:"form-text text-muted"},[t._v(" Users cannot set advertisement end-date later than this day. For instance, if it is set to 5 days, user can set his advertisement only for 5 days from today. ")])]),a("div",{staticClass:"form-group"},[a("label",{attrs:{for:"advertisementCategories"}},[t._v("Categories")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.advertisementCategories,expression:"advertisementCategories"}],staticClass:"form-control",attrs:{type:"text",id:"advertisementCategories"},domProps:{value:t.advertisementCategories},on:{input:function(e){e.target.composing||(t.advertisementCategories=e.target.value)}}}),a("small",{staticClass:"form-text text-muted"},[t._v(' Only these categories can display banners. These will appear on banner edit form. It can have many categories separating by comma(,). For instance, "qna,discussion,job" ')])]),a("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Submit")])]),a("div",{staticClass:"alert alert-info"},[t._v(" @todo later, get all countries and make it selectable. ")]),a("h3",[t._v("Add banner points for a country")]),a("div",[t._v(" Don't input countryCode for default banner point. countryCode 에 빈 문자열을 입력하면 default setting 이 됨. ")]),a("form",{on:{submit:function(e){return e.preventDefault(),t.onEdit(t.add)}}},[a("div",{staticClass:"d-flex w-100"},[t.countries?a("div",{staticClass:"col-3 pr-1"},[a("select",{directives:[{name:"model",rawName:"v-model",value:t.add.countryCode,expression:"add.countryCode"}],staticClass:"form-control",on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.$set(t.add,"countryCode",e.target.multiple?a:a[0])}}},[a("option",{attrs:{value:"",selected:""}},[t._v(t._s(t._f("t")("default")))]),t._l(t.countries,(function(e,n){return a("option",{key:n,domProps:{value:n}},[t._v(" "+t._s(e)+" ")])}))],2)]):t._e(),a("div",{staticClass:"col-2 px-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.top,expression:"add.top"}],staticClass:"form-control",attrs:{size:"12"},domProps:{value:t.add.top},on:{input:function(e){e.target.composing||t.$set(t.add,"top",e.target.value)}}})]),a("div",{staticClass:"col-2 px-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.sidebar,expression:"add.sidebar"}],staticClass:"form-control",attrs:{size:"12"},domProps:{value:t.add.sidebar},on:{input:function(e){e.target.composing||t.$set(t.add,"sidebar",e.target.value)}}})]),a("div",{staticClass:"col-2 px-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.square,expression:"add.square"}],staticClass:"form-control",attrs:{size:"12"},domProps:{value:t.add.square},on:{input:function(e){e.target.composing||t.$set(t.add,"square",e.target.value)}}})]),a("div",{staticClass:"col-2 px-1"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.add.line,expression:"add.line"}],staticClass:"form-control",attrs:{size:"12"},domProps:{value:t.add.line},on:{input:function(e){e.target.composing||t.$set(t.add,"line",e.target.value)}}})]),t._m(0)])]),t.points.length?a("table",{staticClass:"table"},[t._m(1),a("tbody",t._l(t.points.length,(function(e){return a("tr",{key:e},[a("th",{attrs:{scope:"row"}},[t._v(" "+t._s(t.points[e-1].countryCode?t.points[e-1].countryCode:"Default Setting")+" ")]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.points[e-1].top,expression:"points[n - 1].top"}],attrs:{size:"12"},domProps:{value:t.points[e-1].top},on:{input:function(a){a.target.composing||t.$set(t.points[e-1],"top",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.points[e-1].sidebar,expression:"points[n - 1].sidebar"}],attrs:{size:"12"},domProps:{value:t.points[e-1].sidebar},on:{input:function(a){a.target.composing||t.$set(t.points[e-1],"sidebar",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.points[e-1].square,expression:"points[n - 1].square"}],attrs:{size:"12"},domProps:{value:t.points[e-1].square},on:{input:function(a){a.target.composing||t.$set(t.points[e-1],"square",a.target.value)}}})]),a("td",[a("input",{directives:[{name:"model",rawName:"v-model",value:t.points[e-1].line,expression:"points[n - 1].line"}],attrs:{size:"12"},domProps:{value:t.points[e-1].line},on:{input:function(a){a.target.composing||t.$set(t.points[e-1],"line",a.target.value)}}})]),a("td",[a("button",{staticClass:"btn btn-primary",on:{click:function(a){return t.onEdit(t.points[e-1])}}},[t._v(" Update ")]),a("button",{staticClass:"btn btn-warning ml-1",on:{click:function(a){return t.onDelete(t.points[e-1])}}},[t._v(" Delete ")])])])})),0)]):t._e()])},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-1 p-0"},[a("button",{staticClass:"btn btn-primary"},[t._v("ADD")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("CountryCode")]),a("th",{attrs:{scope:"col"}},[t._v("Top")]),a("th",{attrs:{scope:"col"}},[t._v("Sidebar")]),a("th",{attrs:{scope:"col"}},[t._v("Square")]),a("th",{attrs:{scope:"col"}},[t._v("Line")]),a("th",{attrs:{scope:"col"}},[t._v("Actions")])])])}],p=a("1da1"),v=a("bee2"),f=(a("96cf"),a("9f3a")),h=a("de1e"),g=function(t){Object(i["a"])(a,t);var e=Object(o["a"])(a);function a(){var t;return Object(r["a"])(this,a),t=e.apply(this,arguments),t.api=f["a"].instance,t.as=h["a"].instance,t.maximumAdvertisementDays=0,t.advertisementCategories="",t.points=[],t.add={},t}return Object(v["a"])(a,[{key:"mounted",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){var e;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.getConfig("maximumAdvertisementDays");case 3:return e=t.sent,this.maximumAdvertisementDays=e.data,t.next=7,this.api.getConfig("advertisementCategories");case 7:return e=t.sent,this.advertisementCategories=e.data,t.next=11,this.api.advertisementGetBannerPoints();case 11:return this.points=t.sent,t.next=14,this.api.countryAll();case 14:this.countries=t.sent,t.next=20;break;case 17:t.prev=17,t.t0=t["catch"](0),this.as.error(t.t0);case 20:case"end":return t.stop()}}),t,this,[[0,17]])})));function e(){return t.apply(this,arguments)}return e}()},{key:"onEdit",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.advertisementSetBannerPoint(e);case 3:return t.next=5,this.api.advertisementGetBannerPoints();case 5:this.points=t.sent,a="Points for ".concat(e.countryCode," is "),e.idx?(console.log("onEdit::update",this.points),a+=" updated."):(console.log("onEdit::add",this.points),a+=" added.",this.add={}),this.as.alert("Points "+a),t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](0),this.as.error(t.t0);case 14:case"end":return t.stop()}}),t,this,[[0,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onDelete",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(e){var a;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(a=this.as.confirm("Delete point settings for ".concat(e.countryCode,"?")),a){t.next=3;break}return t.abrupt("return");case 3:return t.prev=3,t.next=6,this.api.advertisementDeleteBannerPoint(e.idx);case 6:return t.next=8,this.api.advertisementGetBannerPoints();case 8:this.points=t.sent,t.next=14;break;case 11:t.prev=11,t.t0=t["catch"](3),this.as.error(t.t0);case 14:case"end":return t.stop()}}),t,this,[[3,11]])})));function e(e){return t.apply(this,arguments)}return e}()},{key:"onSubmit",value:function(){var t=Object(p["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,this.api.setConfig("maximumAdvertisementDays",this.maximumAdvertisementDays);case 3:return t.next=5,this.api.setConfig("advertisementCategories",this.advertisementCategories);case 5:this.as.alert("Saved!"),t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),this.as.error(t.t0);case 11:case"end":return t.stop()}}),t,this,[[0,8]])})));function e(){return t.apply(this,arguments)}return e}()}]),a}(u["default"]);g=Object(c["a"])([Object(d["b"])({components:{}})],g);var b=g,x=b,y=a("2877"),C=Object(y["a"])(x,l,m,!1,null,null,null),_=C.exports,w=function(t){Object(i["a"])(a,t);var e=Object(o["a"])(a);function a(){return Object(r["a"])(this,a),e.apply(this,arguments)}return a}(u["default"]);w=Object(c["a"])([Object(d["b"])({components:{AdminAdvertisementSettings:_}})],w);var A=w,k=A,D=Object(y["a"])(k,n,s,!1,null,null,null);e["default"]=D.exports}}]);
//# sourceMappingURL=chunk-2d0af4e4.cfdbeb4f.js.map