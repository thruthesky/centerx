{"version":3,"sources":["webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?ec84","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?5815","webpack:///./src/x-vue/components/admin/messaging/AdminPushNotification.vue?75bb"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","_f","staticClass","directives","name","rawName","value","options","expression","on","$event","$$selectedVal","Array","prototype","filter","call","target","o","selected","map","val","_value","$set","multiple","notify","domProps","composing","_e","loadPostIdx","sendPushNotification","loading","staticRenderFns","as","instance","idx","topic","tokens","emails","users","title","body","click_action","imageUrl","sound","channel","$route","params","postIdx","console","log","postGet","post","content","url","files","length","error","data","type","res","sendMessageToTopic","sendMessageToTokens","sendMessageToUsers","s","success","f","alert","component"],"mappings":"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","file":"js/chunk-2d0e2175.c169490d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('section',{attrs:{\"data-cy\":\"push-notification-create-page\"}},[_c('h4',[_vm._v(_vm._s(_vm._f(\"t\")(\"push_notification\")))]),_c('form',[_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"status\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"sending_option\")))]),_c('select',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.notify),expression:\"options.notify\"}],staticClass:\"custom-select\",attrs:{\"id\":\"notify\",\"name\":\"notify\"},on:{\"change\":function($event){var $$selectedVal = Array.prototype.filter.call($event.target.options,function(o){return o.selected}).map(function(o){var val = \"_value\" in o ? o._value : o.value;return val}); _vm.$set(_vm.options, \"notify\", $event.target.multiple ? $$selectedVal : $$selectedVal[0])}}},[_c('option',{attrs:{\"value\":\"all\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"all\")))]),_c('option',{attrs:{\"value\":\"topic\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"topic\")))]),_c('option',{attrs:{\"value\":\"tokens\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"tokens\")))]),_c('option',{attrs:{\"value\":\"emails\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"emails\")))])])]),(_vm.options.notify == 'topic')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"topic\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"topic\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.topic),expression:\"options.topic\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('topic'),\"name\":\"topic\",\"id\":\"topic\"},domProps:{\"value\":(_vm.options.topic)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"topic\", $event.target.value)}}})]):_vm._e(),(_vm.options.notify == 'tokens')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"tokens\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"tokens\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.tokens),expression:\"options.tokens\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('token'),\"name\":\"tokens\",\"id\":\"tokens\"},domProps:{\"value\":(_vm.options.tokens)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"tokens\", $event.target.value)}}})]):_vm._e(),(_vm.options.notify == 'emails')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"emails\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"emails\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.emails),expression:\"options.emails\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('emails'),\"name\":\"emails\",\"id\":\"emails\"},domProps:{\"value\":(_vm.options.emails)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"emails\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_emails_help\")+\" \")])]):_vm._e(),(_vm.options.notify == 'emails')?_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"users\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"users\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.users),expression:\"options.users\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('users'),\"name\":\"users\",\"id\":\"users\"},domProps:{\"value\":(_vm.options.users)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"users\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_idxs_help\")+\" \")])]):_vm._e(),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"idx\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"landing post idx\")))]),_c('div',{staticClass:\"input-group\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.idx),expression:\"options.idx\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('post idx'),\"name\":\"idx\",\"id\":\"idx\"},domProps:{\"value\":(_vm.options.idx)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"idx\", $event.target.value)}}}),_c('div',{staticClass:\"input-group-append\"},[_c('button',{staticClass:\"btn btn-outline-secondary px-5\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.loadPostIdx()}}},[_vm._v(\" \"+_vm._s(_vm._f(\"t\")(\"load_post_idx\"))+\" \")])])])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"title\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"title\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.title),expression:\"options.title\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('title'),\"name\":\"title\",\"id\":\"title\"},domProps:{\"value\":(_vm.options.title)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"title\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"idx\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"content\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.body),expression:\"options.body\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('content'),\"name\":\"body\",\"id\":\"body\"},domProps:{\"value\":(_vm.options.body)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"body\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"click_action\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"click_url\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.click_action),expression:\"options.click_action\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('click_url'),\"name\":\"click_action\",\"id\":\"click_action\"},domProps:{\"value\":(_vm.options.click_action)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"click_action\", $event.target.value)}}})]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"imageUrl\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"icon_url\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.imageUrl),expression:\"options.imageUrl\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('icon_url'),\"name\":\"imageUrl\",\"id\":\"imageUrl\"},domProps:{\"value\":(_vm.options.imageUrl)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"imageUrl\", $event.target.value)}}}),_c('small',{staticClass:\"form-text text-muted\"},[_vm._v(\" \"+_vm._s(\"push_message_icon_url_help\")+\" \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"sound\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"sound\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.sound),expression:\"options.sound\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('sound'),\"name\":\"sound\",\"id\":\"sound\"},domProps:{\"value\":(_vm.options.sound)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"sound\", $event.target.value)}}}),_c('div',{staticClass:\"text-muted\"},[_vm._v(\" \"+_vm._s(\"push_notification_sound_help\")+\" \")])]),_c('div',{staticClass:\"form-group\"},[_c('label',{attrs:{\"for\":\"channel\"}},[_vm._v(_vm._s(_vm._f(\"t\")(\"channel_id\")))]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.options.channel),expression:\"options.channel\"}],staticClass:\"form-control\",attrs:{\"type\":\"text\",\"placeholder\":_vm._f(\"t\")('channel_id'),\"name\":\"channel\",\"id\":\"channel\"},domProps:{\"value\":(_vm.options.channel)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.options, \"channel\", $event.target.value)}}})]),_c('div',{staticClass:\"d-flex justify-content-between mt-2 mb-3\"},[_c('div',[_c('button',{staticClass:\"btn btn-primary\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.sendPushNotification()}}},[(!_vm.loading)?_c('span',[_vm._v(_vm._s(_vm._f(\"t\")(\"send_notification\")))]):_vm._e(),(_vm.loading)?_c('span',[_vm._v(_vm._s(_vm._f(\"t\")(\"loading\")))]):_vm._e()])])])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nimport { ApiService } from \"@/x-vue/services/api.service\";\nimport { DEFAULT_TOPIC } from \"@/x-vue/services/defines\";\nimport { RequestData, ResponseData } from \"@/x-vue/services/interfaces\";\nimport Vue from \"vue\";\nimport Component from \"vue-class-component\";\nimport AdminService from \"../admin.service\";\n\n@Component({})\nexport default class AdminPushNotification extends Vue {\n  as = AdminService.instance;\n  options = {\n    idx: \"\",\n    notify: \"all\",\n    topic: \"\",\n    tokens: \"\",\n    emails: \"\",\n    users: \"\",\n    title: \"\",\n    body: \"\",\n    click_action: \"\",\n    imageUrl: \"\",\n    sound: \"telephoneringwav.wav\",\n    channel: \"PUSH_NOTIFICATION\",\n  };\n  loading = false;\n\n  mounted(): void {\n    if (this.$route.params.postIdx) {\n      this.options.idx = this.$route.params.postIdx;\n    }\n    this.loadPostIdx();\n  }\n\n  async loadPostIdx(): Promise<void> {\n    console.log(this.options.idx);\n    if (this.options.idx === \"\") return;\n    let options: RequestData = {\n      idx: this.options.idx,\n    };\n    try {\n      const post = await ApiService.instance.postGet(options);\n      this.options.title = post.title;\n      this.options.body = post.content;\n      this.options.click_action = post.url;\n      if (post.files.length > 0) {\n        this.options.imageUrl = post.files[0].url;\n      }\n      this.loading = false;\n    } catch (e) {\n      this.loading = false;\n      this.as.error(e);\n    }\n  }\n\n  async sendPushNotification(): Promise<void> {\n    if (this.loading) return;\n    this.loading = true;\n    const data: RequestData = {\n      title: this.options.title,\n      body: this.options.body,\n      click_action: this.options.click_action,\n      imageUrl: this.options.imageUrl,\n      sound: this.options.sound,\n      channel: this.options.channel,\n    };\n    if (this.options.idx) {\n      data[\"data\"] = {\n        idx: this.options.idx,\n        type: \"post\",\n      };\n    }\n\n    try {\n      let res: ResponseData = {};\n\n      /**\n       * Base on sending option it will request from the server\n       * All = send notification to default topic\n       * Topic = send notification to the givent topic\n       * Tokens = send notification to given tokens\n       * UserIDX/Emails = send notification to existing idx/email with their registed tokens\n       */\n      if (this.options.notify === \"all\") {\n        data[\"topic\"] = DEFAULT_TOPIC;\n        res = await ApiService.instance.sendMessageToTopic(data);\n      } else if (this.options.notify === \"topic\") {\n        data[\"topic\"] = this.options.topic;\n        res = await ApiService.instance.sendMessageToTopic(data);\n      } else if (this.options.notify === \"tokens\") {\n        data[\"tokens\"] = this.options.tokens;\n        res = await ApiService.instance.sendMessageToTokens(data);\n      } else if (this.options.notify === \"emails\") {\n        data[\"emails\"] = this.options.emails;\n        data[\"users\"] = this.options.users;\n        res = await ApiService.instance.sendMessageToUsers(data);\n      }\n\n      this.loading = false;\n\n      if (this.options.notify === \"tokens\") {\n        const s = res.success.length;\n        const f = res.error.length;\n        this.as.alert(\n          \"Send Push Message to tokens: \" + `${s} Success, ${f} Fail.`\n        );\n      } else {\n        this.as.alert(\n          \"Send Push Message to topic : \" +\n            \"Success Sending push notification to topic.\"\n        );\n      }\n    } catch (e) {\n      this.loading = false;\n      this.as.error(e);\n    }\n  }\n}\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPushNotification.vue?vue&type=script&lang=ts&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--14-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/ts-loader/index.js??ref--14-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./AdminPushNotification.vue?vue&type=script&lang=ts&\"","import { render, staticRenderFns } from \"./AdminPushNotification.vue?vue&type=template&id=56e467aa&\"\nimport script from \"./AdminPushNotification.vue?vue&type=script&lang=ts&\"\nexport * from \"./AdminPushNotification.vue?vue&type=script&lang=ts&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}